`index.html`
```html

<!DOCTYPE html>
<html lang="id" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SI Klinik - Sistem Informasi Klinik</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .sidebar-transition { transition: transform 0.3s ease-in-out; }
        .toast { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .modal-backdrop { backdrop-filter: blur(4px); }
        .table-hover:hover { background-color: rgba(59, 130, 246, 0.05); }
        .loading-spinner { animation: spin 1s linear infinite; }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>

<body class="h-full bg-gray-50 dark:bg-gray-900" x-data="clinicApp()" x-init="init()">
    <!-- Toast Notifications -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2">
        <template x-for="toast in toasts" :key="toast.id">
            <div class="toast flex items-center p-4 mb-4 text-sm rounded-lg shadow-lg max-w-xs"
                 :class="toast.type === 'success' ? 'text-green-800 bg-green-50 dark:bg-green-800 dark:text-green-200' : 
                         toast.type === 'error' ? 'text-red-800 bg-red-50 dark:bg-red-800 dark:text-red-200' :
                         'text-blue-800 bg-blue-50 dark:bg-blue-800 dark:text-blue-200'"
                 x-show="toast.show" 
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="opacity-0 transform translate-x-full"
                 x-transition:enter-end="opacity-100 transform translate-x-0">
                <i :class="toast.type === 'success' ? 'fas fa-check-circle' : 
                           toast.type === 'error' ? 'fas fa-exclamation-circle' : 
                           'fas fa-info-circle'" class="mr-2"></i>
                <span x-text="toast.message"></span>
                <button @click="removeToast(toast.id)" class="ml-auto text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </template>
    </div>

    <!-- Login Modal -->
    <div x-show="!isLoggedIn" class="fixed inset-0 z-50 overflow-y-auto modal-backdrop bg-gray-900 bg-opacity-50" x-cloak>
        <div class="flex items-center justify-center min-h-screen px-4">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 fade-in">
                <div class="text-center mb-6">
                    <img src="https://placehold.co/80x80" alt="Logo klinik modern dengan simbol kesehatan berupa tanda plus dalam lingkaran biru dengan gradien" class="mx-auto mb-4 rounded-full">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white">SI Klinik</h2>
                    <p class="text-gray-600 dark:text-gray-400">Sistem Informasi Klinik</p>
                </div>
                
                <form @submit.prevent="login()" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
                        <input type="email" x-model="loginForm.email" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Password</label>
                        <div class="relative">
                            <input :type="showPassword ? 'text' : 'password'" x-model="loginForm.password" required
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            <button type="button" @click="showPassword = !showPassword" 
                                    class="absolute right-3 top-2.5 text-gray-400 hover:text-gray-600">
                                <i :class="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                            </button>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <label class="flex items-center">
                            <input type="checkbox" x-model="loginForm.remember" class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                            <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Ingat saya</span>
                        </label>
                        <a href="#" class="text-sm text-primary-600 hover:text-primary-500">Lupa password?</a>
                    </div>
                    <button type="submit" :disabled="loginLoading"
                            class="w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50">
                        <span x-show="!loginLoading">Masuk</span>
                        <span x-show="loginLoading" class="flex items-center justify-center">
                            <i class="fas fa-spinner loading-spinner mr-2"></i>
                            Memproses...
                        </span>
                    </button>
                </form>
                
                <div class="mt-4 text-center">
                    <p class="text-xs text-gray-500">Demo Login:</p>
                    <p class="text-xs text-gray-400">admin@demo.local / Admin123!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Layout -->
    <div x-show="isLoggedIn" class="h-full flex" x-cloak>
        <!-- Sidebar -->
        <div class="sidebar-transition fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 shadow-lg transform lg:translate-x-0"
             :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'">
            
            <!-- Logo -->
            <div class="flex items-center justify-center h-16 bg-primary-600 text-white">
                <img src="https://placehold.co/40x40" alt="Logo klinik kompak dengan ikon medis modern dalam warna putih" class="w-8 h-8 mr-2">
                <span class="text-lg font-semibold">SI Klinik</span>
            </div>

            <!-- Navigation -->
            <nav class="mt-8 px-4">
                <template x-for="item in navigation" :key="item.name">
                    <div>
                        <a @click="setActiveMenu(item.key)" href="#"
                           class="group flex items-center px-2 py-2 text-sm font-medium rounded-md mb-1 transition-colors"
                           :class="activeMenu === item.key ? 'bg-primary-100 text-primary-700 dark:bg-primary-800 dark:text-primary-100' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700'">
                            <i :class="item.icon" class="mr-3 text-lg w-5"></i>
                            <span x-text="item.name"></span>
                            <span x-show="item.badge" 
                                  class="ml-auto bg-red-500 text-white text-xs rounded-full px-2 py-1" 
                                  x-text="item.badge"></span>
                        </a>
                    </div>
                </template>
            </nav>

            <!-- User Profile in Sidebar -->
            <div class="absolute bottom-0 w-full p-4 border-t dark:border-gray-700">
                <div class="flex items-center space-x-3">
                    <img src="https://placehold.co/40x40" alt="Foto profil pengguna dengan background biru profesional" class="w-10 h-10 rounded-full">
                    <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 dark:text-white truncate" x-text="currentUser.name"></p>
                        <p class="text-xs text-gray-500 dark:text-gray-400" x-text="currentUser.role"></p>
                    </div>
                    <button @click="logout()" class="text-gray-400 hover:text-red-500" title="Logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 lg:ml-64">
            <!-- Top Bar -->
            <div class="bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700 px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <button @click="sidebarOpen = !sidebarOpen" class="lg:hidden text-gray-500 hover:text-gray-700">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                        
                        <!-- Breadcrumbs -->
                        <nav class="hidden sm:flex" aria-label="Breadcrumb">
                            <ol class="inline-flex items-center space-x-1 md:space-x-3">
                                <li class="inline-flex items-center">
                                    <span class="text-gray-500 dark:text-gray-400">SI Klinik</span>
                                </li>
                                <li>
                                    <div class="flex items-center">
                                        <i class="fas fa-chevron-right text-gray-400 mx-2"></i>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white" x-text="getBreadcrumbTitle()"></span>
                                    </div>
                                </li>
                            </ol>
                        </nav>
                    </div>

                    <div class="flex items-center space-x-4">
                        <!-- Global Search -->
                        <div class="relative">
                            <input type="text" placeholder="Cari (Ctrl+/)" 
                                   class="w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                                   x-model="globalSearch" @keydown.escape="globalSearch = ''" @keydown.ctrl.slash.prevent="$el.focus()">
                            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                        </div>

                        <!-- Notifications -->
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" class="relative p-2 text-gray-400 hover:text-gray-500">
                                <i class="fas fa-bell text-xl"></i>
                                <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
                            </button>
                            <div x-show="open" @click.away="open = false" 
                                 class="absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700 z-50"
                                 x-transition>
                                <div class="p-4 border-b dark:border-gray-700">
                                    <h3 class="text-sm font-semibold text-gray-900 dark:text-white">Notifikasi</h3>
                                </div>
                                <div class="max-h-64 overflow-y-auto">
                                    <div class="p-3 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700">
                                        <p class="text-sm text-gray-900 dark:text-white">Stok obat Paracetamol hampir habis</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">2 menit yang lalu</p>
                                    </div>
                                    <div class="p-3 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700">
                                        <p class="text-sm text-gray-900 dark:text-white">Pasien baru terdaftar: John Doe</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">5 menit yang lalu</p>
                                    </div>
                                    <div class="p-3 hover:bg-gray-50 dark:hover:bg-gray-700">
                                        <p class="text-sm text-gray-900 dark:text-white">Jadwal dokter Dr. Smith telah diperbarui</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">10 menit yang lalu</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Dark Mode Toggle -->
                        <button @click="toggleDarkMode()" class="p-2 text-gray-400 hover:text-gray-500">
                            <i :class="darkMode ? 'fas fa-sun' : 'fas fa-moon'" class="text-xl"></i>
                        </button>

                        <!-- User Menu -->
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" class="flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                                <img src="https://placehold.co/32x32" alt="Avatar pengguna dengan background profesional" class="w-8 h-8 rounded-full">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div x-show="open" @click.away="open = false"
                                 class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700 z-50"
                                 x-transition>
                                <div class="py-1">
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                        <i class="fas fa-user mr-2"></i>Profil
                                    </a>
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                        <i class="fas fa-cog mr-2"></i>Pengaturan
                                    </a>
                                    <hr class="my-1 dark:border-gray-700">
                                    <a href="#" @click="logout()" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700">
                                        <i class="fas fa-sign-out-alt mr-2"></i>Logout
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Content -->
            <main class="p-6">
                <!-- Dashboard -->
                <div x-show="activeMenu === 'dashboard'">
                    <div class="mb-6">
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Dashboard</h1>
                        <p class="text-gray-600 dark:text-gray-400">Selamat datang di Sistem Informasi Klinik</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">Kunjungan Hari Ini</h3>
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">24</p>
                                    <p class="text-sm text-green-600">+12% dari kemarin</p>
                                </div>
                                <div class="bg-blue-100 dark:bg-blue-900 p-3 rounded-full">
                                    <i class="fas fa-users text-blue-600 dark:text-blue-300 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">Antrian Aktif</h3>
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">8</p>
                                    <p class="text-sm text-yellow-600">3 poli aktif</p>
                                </div>
                                <div class="bg-yellow-100 dark:bg-yellow-900 p-3 rounded-full">
                                    <i class="fas fa-clock text-yellow-600 dark:text-yellow-300 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">Stok Kritis</h3>
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">5</p>
                                    <p class="text-sm text-red-600">Perlu restok</p>
                                </div>
                                <div class="bg-red-100 dark:bg-red-900 p-3 rounded-full">
                                    <i class="fas fa-exclamation-triangle text-red-600 dark:text-red-300 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">Pendapatan Hari Ini</h3>
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">Rp 2.4M</p>
                                    <p class="text-sm text-green-600">+8% dari target</p>
                                </div>
                                <div class="bg-green-100 dark:bg-green-900 p-3 rounded-full">
                                    <i class="fas fa-chart-line text-green-600 dark:text-green-300 text-xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts and Recent Activities -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Kunjungan Mingguan</h3>
                            <div class="h-64 flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded">
                                <img src="https://placehold.co/400x200" alt="Grafik batang menunjukkan data kunjungan pasien selama seminggu dengan trend naik turun" class="rounded">
                            </div>
                        </div>

                        <!-- Recent Activities -->
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Aktivitas Terkini</h3>
                            <div class="space-y-4">
                                <div class="flex items-start space-x-3">
                                    <div class="bg-blue-100 dark:bg-blue-900 p-2 rounded-full">
                                        <i class="fas fa-user-plus text-blue-600 dark:text-blue-300"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-900 dark:text-white">Pasien baru terdaftar</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">John Doe - 10:30 AM</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <div class="bg-green-100 dark:bg-green-900 p-2 rounded-full">
                                        <i class="fas fa-check-circle text-green-600 dark:text-green-300"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-900 dark:text-white">Pemeriksaan selesai</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Jane Smith - Poli Umum - 10:15 AM</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <div class="bg-yellow-100 dark:bg-yellow-900 p-2 rounded-full">
                                        <i class="fas fa-pills text-yellow-600 dark:text-yellow-300"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-900 dark:text-white">Resep disiapkan</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Resep #RX001 - 10:00 AM</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <div class="bg-purple-100 dark:bg-purple-900 p-2 rounded-full">
                                        <i class="fas fa-calendar text-purple-600 dark:text-purple-300"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-900 dark:text-white">Jadwal dokter diperbarui</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Dr. Smith - 09:45 AM</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patients Management -->
                <div x-show="activeMenu === 'patients'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Data Pasien</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola data pasien klinik</p>
                        </div>
                        <button @click="showPatientModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Tambah Pasien
                        </button>
                    </div>

                    <!-- Search and Filter -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div>
                                <input type="text" placeholder="Cari nama, NIK, atau No. RM" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div>
                                <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <option>Semua Jenis Kelamin</option>
                                    <option>Laki-laki</option>
                                    <option>Perempuan</option>
                                </select>
                            </div>
                            <div>
                                <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div>
                                <button class="w-full bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600">
                                    <i class="fas fa-search mr-2"></i>Cari
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Patients Table -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            Pasien
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            No. RM
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            NIK
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            Tgl Lahir
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            Kontak
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            Aksi
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="patient in patients" :key="patient.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <img src="https://placehold.co/40x40" alt="Foto pasien dengan latar belakang netral" class="w-10 h-10 rounded-full mr-3">
                                                    <div>
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="patient.name"></div>
                                                        <div class="text-sm text-gray-500 dark:text-gray-400" x-text="patient.gender"></div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="patient.rm_number"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="patient.nik"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="patient.birth_date"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="patient.phone"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900" title="Lihat Detail">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="text-red-600 hover:text-red-900" title="Hapus">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900" title="QR Code">
                                                    <i class="fas fa-qrcode"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>

                        <!-- Pagination -->
                        <div class="bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6">
                            <div class="flex items-center justify-between">
                                <div class="flex-1 flex justify-between sm:hidden">
                                    <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                        Previous
                                    </button>
                                    <button class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                        Next
                                    </button>
                                </div>
                                <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                                    <div>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            Menampilkan <span class="font-medium">1</span> sampai <span class="font-medium">10</span> dari <span class="font-medium">97</span> hasil
                                        </p>
                                    </div>
                                    <div>
                                        <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                                            <button class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                                <i class="fas fa-chevron-left"></i>
                                            </button>
                                            <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">1</button>
                                            <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">2</button>
                                            <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">3</button>
                                            <button class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                                <i class="fas fa-chevron-right"></i>
                                            </button>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Registration/Queue -->
                <div x-show="activeMenu === 'registrations'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Pendaftaran & Antrian</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola pendaftaran pasien dan antrian</p>
                        </div>
                        <button @click="showRegistrationModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Daftar Pasien
                        </button>
                    </div>

                    <!-- Queue Monitor -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <div class="lg:col-span-2">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Antrian Hari Ini</h3>
                                <div class="space-y-4">
                                    <template x-for="queue in queues" :key="queue.id">
                                        <div class="flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg">
                                            <div class="flex items-center space-x-4">
                                                <div class="bg-primary-100 dark:bg-primary-900 px-3 py-2 rounded-lg">
                                                    <span class="text-primary-700 dark:text-primary-300 font-bold" x-text="queue.number"></span>
                                                </div>
                                                <div>
                                                    <p class="font-medium text-gray-900 dark:text-white" x-text="queue.patient"></p>
                                                    <p class="text-sm text-gray-500 dark:text-gray-400" x-text="queue.poli + ' - ' + queue.doctor"></p>
                                                </div>
                                            </div>
                                            <div class="flex items-center space-x-2">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="queue.status === 'waiting' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                              queue.status === 'called' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                              'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'"
                                                      x-text="queue.status === 'waiting' ? 'Menunggu' : queue.status === 'called' ? 'Dipanggil' : 'Selesai'"></span>
                                                <button class="text-blue-600 hover:text-blue-900" title="Panggil">
                                                    <i class="fas fa-bullhorn"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>

                        <!-- Queue Statistics -->
                        <div class="space-y-6">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Status Antrian</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Total Antrian</span>
                                        <span class="font-bold text-gray-900 dark:text-white">24</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Menunggu</span>
                                        <span class="font-bold text-yellow-600">8</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Sedang Dilayani</span>
                                        <span class="font-bold text-blue-600">3</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Selesai</span>
                                        <span class="font-bold text-green-600">13</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Antrian per Poli</h3>
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Poli Umum</span>
                                        <span class="text-sm font-medium">12</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Poli Gigi</span>
                                        <span class="text-sm font-medium">8</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Poli Anak</span>
                                        <span class="text-sm font-medium">4</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Today's Registrations -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Pendaftaran Hari Ini</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">No. Antrian</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Pasien</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Poli</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Dokter</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Jam Daftar</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="registration in registrations" :key="registration.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="bg-primary-100 text-primary-800 text-sm font-medium px-2.5 py-0.5 rounded dark:bg-primary-900 dark:text-primary-300" 
                                                      x-text="registration.queue_number"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="registration.patient_name"></div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400" x-text="registration.patient_rm"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="registration.poli"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="registration.doctor"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="registration.registration_time"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="registration.status === 'booked' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                              registration.status === 'checkedin' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                              registration.status === 'done' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                              'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'"
                                                      x-text="registration.status === 'booked' ? 'Terdaftar' : 
                                                              registration.status === 'checkedin' ? 'Check-in' : 
                                                              registration.status === 'done' ? 'Selesai' : 'Dibatalkan'"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900" title="Check-in">
                                                    <i class="fas fa-check"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900" title="Cetak Tiket">
                                                    <i class="fas fa-print"></i>
                                                </button>
                                                <button class="text-red-600 hover:text-red-900" title="Batalkan">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Doctor Schedules -->
                <div x-show="activeMenu === 'schedules'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Jadwal Dokter</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola jadwal praktek dokter</p>
                        </div>
                        <button @click="showScheduleModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Tambah Jadwal
                        </button>
                    </div>

                    <!-- Calendar View -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Jadwal Mingguan</h3>
                            <div class="flex items-center space-x-2">
                                <button class="px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <span class="text-sm text-gray-600 dark:text-gray-400">12 - 18 Februari 2024</span>
                                <button class="px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Weekly Calendar -->
                        <div class="grid grid-cols-8 gap-1">
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400"></div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Sen</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Sel</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Rab</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Kam</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Jum</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Sab</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Min</div>

                            <!-- Time slots -->
                            <template x-for="hour in [8,9,10,11,13,14,15,16]" :key="hour">
                                <div class="col-span-8 grid grid-cols-8 gap-1">
                                    <div class="p-3 text-center text-sm text-gray-500 dark:text-gray-400 border-r" x-text="hour + ':00'"></div>
                                    <template x-for="day in 7" :key="day">
                                        <div class="p-2 min-h-16 border border-gray-200 dark:border-gray-700 rounded">
                                            <template x-for="schedule in getScheduleForDayHour(day, hour)" :key="schedule.id">
                                                <div class="text-xs p-1 mb-1 rounded"
                                                     :class="schedule.poli === 'Umum' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                             schedule.poli === 'Gigi' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                             'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200'">
                                                    <div class="font-medium" x-text="schedule.doctor"></div>
                                                    <div x-text="schedule.poli"></div>
                                                    <div x-text="schedule.quota + ' pasien'"></div>
                                                </div>
                                            </template>
                                        </div>
                                    </template>
                                </div>
                            </template>
                        </div>
                    </div>

                    <!-- Schedule List -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Daftar Jadwal</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Dokter</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Poli</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Hari</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Waktu</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Kuota</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="schedule in doctorSchedules" :key="schedule.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <img src="https://placehold.co/40x40" alt="Foto dokter profesional dengan jas putih" class="w-10 h-10 rounded-full mr-3">
                                                    <div>
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="schedule.doctor_name"></div>
                                                        <div class="text-sm text-gray-500 dark:text-gray-400" x-text="schedule.doctor_specialty"></div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="schedule.poli"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="schedule.day"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="schedule.start_time + ' - ' + schedule.end_time"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="schedule.quota + ' pasien'"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="schedule.is_active ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'"
                                                      x-text="schedule.is_active ? 'Aktif' : 'Nonaktif'"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="text-red-600 hover:text-red-900" title="Hapus">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                                <button class="text-blue-600 hover:text-blue-900" title="Toggle Status">
                                                    <i class="fas fa-toggle-on"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Medical Records -->
                <div x-show="activeMenu === 'records'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Rekam Medis</h1>
                            <p class="text-gray-600 dark:text-gray-400">Rekam medis elektronik pasien</p>
                        </div>
                        <button @click="showRecordModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Tambah RME
                        </button>
                    </div>

                    <!-- Patient Search -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6">
                        <div class="flex items-center space-x-4">
                            <div class="flex-1">
                                <input type="text" placeholder="Cari pasien (nama, No. RM, NIK)" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <button class="bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700">
                                <i class="fas fa-search mr-2"></i>Cari
                            </button>
                        </div>
                    </div>

                    <!-- Patient Info Card -->
                    <div x-show="selectedPatient" class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Informasi Pasien</h3>
                            <button @click="selectedPatient = null" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div x-show="selectedPatient" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="flex items-center space-x-4">
                                <img src="https://placehold.co/60x60" alt="Foto profil pasien dengan latar belakang medis" class="w-15 h-15 rounded-full">
                                <div>
                                    <h4 class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.name || 'John Doe'"></h4>
                                    <p class="text-sm text-gray-500 dark:text-gray-400" x-text="selectedPatient?.gender || 'Laki-laki' + ' • ' + (selectedPatient?.age || '32 tahun')"></p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400" x-text="selectedPatient?.rm_number || 'RM-2024-00001'"></p>
                                </div>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 dark:text-gray-400">NIK</p>
                                <p class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.nik || '3201234567890123'"></p>
                                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Alamat</p>
                                <p class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.address || 'Jl. Contoh No. 123, Jakarta'"></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Kontak</p>
                                <p class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.phone || '081234567890'"></p>
                                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Penanggung Jawab</p>
                                <p class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.guardian || 'BPJS Kesehatan'"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Medical Records List -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Riwayat Kunjungan</h3>
                        </div>
                        <div class="divide-y divide-gray-200 dark:divide-gray-700">
                            <template x-for="record in medicalRecords" :key="record.id">
                                <div class="p-6">
                                    <div class="flex items-start justify-between">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-4 mb-3">
                                                <span class="bg-primary-100 text-primary-800 text-sm font-medium px-2.5 py-0.5 rounded dark:bg-primary-900 dark:text-primary-300" x-text="record.date"></span>
                                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="record.poli + ' • ' + record.doctor"></span>
                                            </div>
                                            
                                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-4">
                                                <!-- SOAP -->
                                                <div>
                                                    <h4 class="font-medium text-gray-900 dark:text-white mb-2">Subjective & Objective</h4>
                                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2" x-text="record.subjective"></p>
                                                    <p class="text-sm text-gray-600 dark:text-gray-400" x-text="record.objective"></p>
                                                </div>
                                                <div>
                                                    <h4 class="font-medium text-gray-900 dark:text-white mb-2">Assessment & Plan</h4>
                                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2"><strong>Diagnosa:</strong> <span x-text="record.diagnosis"></span></p>
                                                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Rencana:</strong> <span x-text="record.plan"></span></p>
                                                </div>
                                            </div>

                                            <!-- Prescriptions -->
                                            <div x-show="record.prescriptions && record.prescriptions.length > 0" class="mb-4">
                                                <h4 class="font-medium text-gray-900 dark:text-white mb-2">Resep Obat</h4>
                                                <div class="bg-gray-50 dark:bg-gray-700 rounded p-3">
                                                    <template x-for="prescription in record.prescriptions" :key="prescription.id">
                                                        <div class="flex justify-between items-center py-1">
                                                            <span class="text-sm text-gray-600 dark:text-gray-400" x-text="prescription.drug + ' ' + prescription.dose"></span>
                                                            <span class="text-sm text-gray-500 dark:text-gray-500" x-text="prescription.qty + ' ' + prescription.unit"></span>
                                                        </div>
                                                    </template>
                                                </div>
                                            </div>

                                            <!-- Attachments -->
                                            <div x-show="record.attachments && record.attachments.length > 0">
                                                <h4 class="font-medium text-gray-900 dark:text-white mb-2">Lampiran</h4>
                                                <div class="flex space-x-2">
                                                    <template x-for="file in record.attachments" :key="file.id">
                                                        <button class="text-blue-600 hover:text-blue-900 text-sm">
                                                            <i class="fas fa-paperclip mr-1"></i>
                                                            <span x-text="file.name"></span>
                                                        </button>
                                                    </template>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="flex items-center space-x-2">
                                            <button class="text-blue-600 hover:text-blue-900" title="Lihat Detail">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-green-600 hover:text-green-900" title="Cetak">
                                                <i class="fas fa-print"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Pharmacy -->
                <div x-show="activeMenu === 'pharmacy'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Farmasi</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola resep dan stok obat</p>
                        </div>
                        <div class="flex space-x-2">
                            <button @click="showStockModal = true" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
                                <i class="fas fa-boxes mr-2"></i>Kelola Stok
                            </button>
                            <button @click="showItemModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                                <i class="fas fa-plus mr-2"></i>Tambah Obat
                            </button>
                        </div>
                    </div>

                    <!-- Prescription Queue -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <div class="lg:col-span-2">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Antrian Resep</h3>
                                <div class="space-y-4">
                                    <template x-for="prescription in prescriptionQueue" :key="prescription.id">
                                        <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                            <div class="flex items-center justify-between mb-3">
                                                <div class="flex items-center space-x-3">
                                                    <span class="bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-200" x-text="prescription.prescription_number"></span>
                                                    <span class="text-sm text-gray-500 dark:text-gray-400" x-text="prescription.patient_name + ' • ' + prescription.doctor_name"></span>
                                                </div>
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="prescription.status === 'pending' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' : 
                                                              prescription.status === 'preparing' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                              'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'"
                                                      x-text="prescription.status === 'pending' ? 'Menunggu' : 
                                                              prescription.status === 'preparing' ? 'Sedang Disiapkan' : 'Selesai'"></span>
                                            </div>
                                            
                                            <div class="space-y-2 mb-3">
                                                <template x-for="item in prescription.items" :key="item.id">
                                                    <div class="flex justify-between items-center text-sm">
                                                        <span class="text-gray-900 dark:text-white" x-text="item.drug_name + ' ' + item.dose"></span>
                                                        <div class="flex items-center space-x-2">
                                                            <span class="text-gray-500 dark:text-gray-400" x-text="item.qty + ' ' + item.unit"></span>
                                                            <span class="text-xs" :class="item.stock_available ? 'text-green-600' : 'text-red-600'"
                                                                  x-text="item.stock_available ? 'Tersedia' : 'Stok Habis'"></span>
                                                        </div>
                                                    </div>
                                                </template>
                                            </div>

                                            <div class="flex items-center justify-between">
                                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="prescription.created_at"></span>
                                                <div class="flex space-x-2">
                                                    <button @click="startPrescription(prescription.id)" 
                                                            x-show="prescription.status === 'pending'"
                                                            class="text-blue-600 hover:text-blue-900 text-sm">
                                                        <i class="fas fa-play mr-1"></i>Mulai
                                                    </button>
                                                    <button @click="completePrescription(prescription.id)" 
                                                            x-show="prescription.status === 'preparing'"
                                                            class="text-green-600 hover:text-green-900 text-sm">
                                                        <i class="fas fa-check mr-1"></i>Selesai
                                                    </button>
                                                    <button class="text-gray-600 hover:text-gray-900 text-sm">
                                                        <i class="fas fa-print mr-1"></i>Cetak Etiket
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="space-y-6">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Status Farmasi</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Resep Menunggu</span>
                                        <span class="font-bold text-yellow-600">5</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Sedang Disiapkan</span>
                                        <span class="font-bold text-blue-600">2</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Selesai Hari Ini</span>
                                        <span class="font-bold text-green-600">23</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Stok Kritis</span>
                                        <span class="font-bold text-red-600">8</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Stok Kritis</h3>
                                <div class="space-y-3">
                                    <template x-for="item in criticalStockItems" :key="item.id">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="text-sm font-medium text-gray-900 dark:text-white" x-text="item.name"></p>
                                                <p class="text-xs text-red-600" x-text="'Stok: ' + item.current_stock + ' ' + item.unit"></p>
                                            </div>
                                            <button class="text-blue-600 hover:text-blue-900 text-xs">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Inventory Management -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Inventori Obat</h3>
                                <div class="flex items-center space-x-2">
                                    <input type="text" placeholder="Cari obat..." 
                                           class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <select class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        <option>Semua Kategori</option>
                                        <option>Tablet</option>
                                        <option>Sirup</option>
                                        <option>Kapsul</option>
                                        <option>Salep</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Obat</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Kategori</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Stok</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Harga</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Exp Date</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="item in inventoryItems" :key="item.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div>
                                                    <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="item.name"></div>
                                                    <div class="text-sm text-gray-500 dark:text-gray-400" x-text="item.code"></div>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="item.category"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm text-gray-900 dark:text-white" x-text="item.stock + ' ' + item.unit"></div>
                                                <div class="text-xs" :class="item.stock <= item.min_stock ? 'text-red-600' : 'text-gray-500 dark:text-gray-400'"
                                                     x-text="'Min: ' + item.min_stock + ' ' + item.unit"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm text-gray-900 dark:text-white" x-text="'Rp ' + item.sell_price.toLocaleString()"></div>
                                                <div class="text-xs text-gray-500 dark:text-gray-400" x-text="'HNA: Rp ' + item.purchase_price.toLocaleString()"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="item.exp_date"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="item.stock <= item.min_stock ? 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200' :
                                                              item.stock <= item.min_stock * 2 ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                              'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'"
                                                      x-text="item.stock <= item.min_stock ? 'Stok Habis' :
                                                              item.stock <= item.min_stock * 2 ? 'Stok Rendah' : 'Stok Aman'"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900" title="Tambah Stok">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                                <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900" title="Riwayat">
                                                    <i class="fas fa-history"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Billing -->
                <div x-show="activeMenu === 'billing'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Kasir & Pembayaran</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola pembayaran dan faktur</p>
                        </div>
                        <button @click="showInvoiceModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Buat Invoice
                        </button>
                    </div>

                    <!-- Pending Invoices -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <div class="lg:col-span-2">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Invoice Belum Dibayar</h3>
                                <div class="space-y-4">
                                    <template x-for="invoice in pendingInvoices" :key="invoice.id">
                                        <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                            <div class="flex items-center justify-between mb-3">
                                                <div class="flex items-center space-x-3">
                                                    <span class="bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-200" x-text="invoice.invoice_number"></span>
                                                    <span class="text-sm text-gray-500 dark:text-gray-400" x-text="invoice.patient_name + ' • ' + invoice.date"></span>
                                                </div>
                                                <span class="text-lg font-bold text-gray-900 dark:text-white" x-text="'Rp ' + invoice.total.toLocaleString()"></span>
                                            </div>
                                            
                                            <div class="space-y-1 mb-3">
                                                <template x-for="item in invoice.items" :key="item.id">
                                                    <div class="flex justify-between items-center text-sm">
                                                        <span class="text-gray-600 dark:text-gray-400" x-text="item.name + ' x' + item.qty"></span>
                                                        <span class="text-gray-900 dark:text-white" x-text="'Rp ' + item.total.toLocaleString()"></span>
                                                    </div>
                                                </template>
                                                <div x-show="invoice.discount > 0" class="flex justify-between items-center text-sm">
                                                    <span class="text-gray-600 dark:text-gray-400">Diskon</span>
                                                    <span class="text-red-600" x-text="'-Rp ' + invoice.discount.toLocaleString()"></span>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-between">
                                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="invoice.registration_code"></span>
                                                <div class="flex space-x-2">
                                                    <button @click="processPayment(invoice.id)" class="bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700">
                                                        <i class="fas fa-credit-card mr-1"></i>Bayar
                                                    </button>
                                                    <button class="text-blue-600 hover:text-blue-900 text-sm">
                                                        <i class="fas fa-print mr-1"></i>Cetak
                                                    </button>
                                                    <button class="text-indigo-600 hover:text-indigo-900 text-sm">
                                                        <i class="fas fa-edit mr-1"></i>Edit
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Stats -->
                        <div class="space-y-6">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Ringkasan Hari Ini</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Total Pendapatan</span>
                                        <span class="font-bold text-green-600">Rp 2.4M</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Invoice Lunas</span>
                                        <span class="font-bold text-blue-600">23</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Belum Dibayar</span>
                                        <span class="font-bold text-yellow-600">5</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Rata-rata/Pasien</span>
                                        <span class="font-bold text-gray-900 dark:text-white">Rp 104K</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Metode Pembayaran</h3>
                                <div class="space-y-3">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Tunai</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">Rp 1.2M (50%)</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Transfer</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">Rp 800K (33%)</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">QRIS</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">Rp 400K (17%)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Invoice History -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Riwayat Invoice</h3>
                                <div class="flex items-center space-x-2">
                                    <input type="date" class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <select class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        <option>Semua Status</option>
                                        <option>Lunas</option>
                                        <option>Belum Dibayar</option>
                                        <option>Partial</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Invoice</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Pasien</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Tanggal</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Total</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Metode</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="invoice in invoiceHistory" :key="invoice.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="invoice.invoice_number"></div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400" x-text="invoice.registration_code"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="invoice.patient_name"></div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400" x-text="invoice.patient_rm"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="invoice.date"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white" x-text="'Rp ' + invoice.total.toLocaleString()"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="invoice.payment_method"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="invoice.status === 'paid' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                              invoice.status === 'partial' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                              'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'"
                                                      x-text="invoice.status === 'paid' ? 'Lunas' : 
                                                              invoice.status === 'partial' ? 'Sebagian' : 'Belum Dibayar'"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900" title="Lihat Detail">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900" title="Cetak">
                                                    <i class="fas fa-print"></i>
                                                </button>
                                                <button x-show="invoice.status !== 'paid'" class="text-yellow-600 hover:text-yellow-900" title="Bayar">
                                                    <i class="fas fa-credit-card"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Reports -->
                <div x-show="activeMenu === 'reports'">
                    <div class="mb-6">
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Laporan</h1>
                        <p class="text-gray-600 dark:text-gray-400">Generate dan analisis laporan klinik</p>
                    </div>

                    <!-- Report Filters -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Jenis Laporan</label>
                                <select x-model="reportType" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <option value="visits">Kunjungan</option>
                                    <option value="revenue">Pendapatan</option>
                                    <option value="diagnoses">Diagnosa</option>
                                    <option value="drugs">Pemakaian Obat</option>
                                    <option value="doctors">Kinerja Dokter</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Dari Tanggal</label>
                                <input type="date" x-model="reportDateFrom" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Sampai Tanggal</label>
                                <input type="date" x-model="reportDateTo" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Poli</label>
                                <select x-model="reportPoli" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <option value="">Semua Poli</option>
                                    <option value="1">Poli Umum</option>
                                    <option value="2">Poli Gigi</option>
                                    <option value="3">Poli Anak</option>
                                </select>
                            </div>
                            <div class="flex items-end">
                                <button @click="generateReport()" class="w-full bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700">
                                    <i class="fas fa-chart-bar mr-2"></i>Generate
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Report Results -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Chart -->
                        <div class="lg:col-span-2">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white" x-text="getReportTitle()"></h3>
                                    <div class="flex space-x-2">
                                        <button @click="exportReport('csv')" class="text-green-600 hover:text-green-900 text-sm">
                                            <i class="fas fa-file-csv mr-1"></i>CSV
                                        </button>
                                        <button @click="exportReport('excel')" class="text-blue-600 hover:text-blue-900 text-sm">
                                            <i class="fas fa-file-excel mr-1"></i>Excel
                                        </button>
                                        <button @click="exportReport('pdf')" class="text-red-600 hover:text-red-900 text-sm">
                                            <i class="fas fa-file-pdf mr-1"></i>PDF
                                        </button>
                                    </div>
                                </div>
                                <div class="h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded">
                                    <img src="https://placehold.co/500x300" alt="Grafik laporan dengan berbagai jenis chart seperti bar chart, line chart dan pie chart menampilkan data klinik" class="rounded">
                                </div>
                            </div>
                        </div>

                        <!-- Summary Stats -->
                        <div class="space-y-6">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Ringkasan</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Total Kunjungan</span>
                                        <span class="font-bold text-gray-900 dark:text-white">247</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Total Pendapatan</span>
                                        <span class="font-bold text-green-600">Rp 12.4M</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Rata-rata/Hari</span>
                                        <span class="font-bold text-blue-600">35 kunjungan</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Poli Terpopuler</span>
                                        <span class="font-bold text-purple-600">Poli Umum</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Top 5 Diagnosa</h3>
                                <div class="space-y-3">
                                    <template x-for="diagnosis in topDiagnoses" :key="diagnosis.code">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="text-sm font-medium text-gray-900 dark:text-white" x-text="diagnosis.name"></p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400" x-text="diagnosis.code"></p>
                                            </div>
                                            <span class="text-sm font-bold text-primary-600" x-text="diagnosis.count"></span>
                                        </div>
                                    </template>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Top 5 Obat</h3>
                                <div class="space-y-3">
                                    <template x-for="drug in topDrugs" :key="drug.id">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="text-sm font-medium text-gray-900 dark:text-white" x-text="drug.name"></p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400" x-text="drug.usage + ' kali'"></p>
                                            </div>
                                            <span class="text-sm font-bold text-green-600" x-text="drug.quantity + ' ' + drug.unit"></span>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Report Table -->
                    <div class="mt-6 bg-white dark:bg-gray-800 rounded-lg shadow" x-show="reportData.length > 0">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Data Detail</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <template x-for="column in getReportColumns()" :key="column.key">
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" x-text="column.title"></th>
                                        </template>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="row in reportData" :key="row.id">
                                        <tr class="table-hover">
                                            <template x-for="column in getReportColumns()" :key="column.key">
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="row[column.key]"></td>
                                            </template>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Settings -->
                <div x-show="activeMenu === 'settings'">
                    <div class="mb-6">
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Pengaturan</h1>
                        <p class="text-gray-600 dark:text-gray-400">Konfigurasi sistem dan manajemen pengguna</p>
                    </div>

                    <!-- Settings Tabs -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="border-b border-gray-200 dark:border-gray-700">
                            <nav class="-mb-px flex space-x-8 px-6" aria-label="Tabs">
                                <template x-for="tab in settingsTabs" :key="tab.key">
                                    <button @click="activeSettingsTab = tab.key"
                                            class="py-4 px-1 border-b-2 font-medium text-sm"
                                            :class="activeSettingsTab === tab.key ? 'border-primary-500 text-primary-600 dark:text-primary-400' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400'"
                                            x-text="tab.name"></button>
                                </template>
                            </nav>
                        </div>

                        <div class="p-6">
                            <!-- Clinic Settings -->
                            <div x-show="activeSettingsTab === 'clinic'">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Profil Klinik</h3>
                                <form class="space-y-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nama Klinik</label>
                                            <input type="text" value="Klinik Sehat Bersama" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Telepon</label>
                                            <input type="tel" value="021-12345678" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div class="md:col-span-2">
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Alamat</label>
                                            <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">Jl. Kesehatan No. 123, Kelurahan Sehat, Kecamatan Wellness, Jakarta Pusat 10110</textarea>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
                                            <input type="email" value="info@kliniksehat.com" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Website</label>
                                            <input type="url" value="https://www.kliniksehat.com" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Format No. RM</label>
                                            <input type="text" value="RM-{YYYY}-{00000}" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">WhatsApp Gateway</label>
                                            <input type="text" value="081234567890" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Logo Klinik</label>
                                        <div class="flex items-center space-x-4">
                                            <img src="https://placehold.co/80x80" alt="Logo klinik yang dapat diunggah dengan format square" class="w-20 h-20 rounded-lg border">
                                            <div>
                                                <input type="file" accept="image/*" class="text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100">
                                                <p class="text-xs text-gray-500 mt-1">PNG, JPG, maksimal 2MB</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="flex justify-end">
                                        <button type="submit" class="bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700">
                                            <i class="fas fa-save mr-2"></i>Simpan Pengaturan
                                        </button>
                                    </div>
                                </form>
                            </div>

                            <!-- User Management -->
                            <div x-show="activeSettingsTab === 'users'">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Manajemen Pengguna</h3>
                                    <button @click="showUserModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                                        <i class="fas fa-plus mr-2"></i>Tambah Pengguna
                                    </button>
                                </div>

                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                        <thead class="bg-gray-50 dark:bg-gray-700">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Pengguna</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Role</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Last Login</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                            <template x-for="user in systemUsers" :key="user.id">
                                                <tr class="table-hover">
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="flex items-center">
                                                            <img src="https://placehold.co/40x40" alt="Avatar pengguna sistem dengan role berbeda" class="w-10 h-10 rounded-full mr-3">
                                                            <div>
                                                                <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="user.name"></div>
                                                                <div class="text-sm text-gray-500 dark:text-gray-400" x-text="user.email"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs rounded-full"
                                                              :class="user.role === 'admin' ? 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200' :
                                                                      user.role === 'doctor' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                                      user.role === 'nurse' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                                      user.role === 'pharmacist' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                                      'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200'"
                                                              x-text="user.role.charAt(0).toUpperCase() + user.role.slice(1)"></span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs rounded-full"
                                                              :class="user.is_active ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'"
                                                              x-text="user.is_active ? 'Aktif' : 'Nonaktif'"></span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="user.last_login"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                        <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button class="text-blue-600 hover:text-blue-900" title="Reset Password">
                                                            <i class="fas fa-key"></i>
                                                        </button>
                                                        <button class="text-yellow-600 hover:text-yellow-900" title="Toggle Status">
                                                            <i class="fas fa-toggle-on"></i>
                                                        </button>
                                                        <button class="text-red-600 hover:text-red-900" title="Hapus">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </template>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- System Settings -->
                            <div x-show="activeSettingsTab === 'system'">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Pengaturan Sistem</h3>
                                <form class="space-y-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Timezone</label>
                                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                                <option selected>Asia/Jakarta</option>
                                                <option>Asia/Bangkok</option>
                                                <option>Asia/Singapore</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Bahasa</label>
                                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                                <option selected>Bahasa Indonesia</option>
                                                <option>English</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Session Timeout (menit)</label>
                                            <input type="number" value="60" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Max Upload Size (MB)</label>
                                            <input type="number" value="10" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                    </div>

                                    <div class="space-y-4">
                                        <h4 class="font-medium text-gray-900 dark:text-white">Fitur Sistem</h4>
                                        <div class="space-y-3">
                                            <label class="flex items-center">
                                                <input type="checkbox" checked class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Enable WhatsApp Notifications</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" checked class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Enable Online Booking</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Enable Email Notifications</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" checked class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Enable Audit Logging</span>
                                            </label>
                                        </div>
                                    </div>

                                    <div>
                                        <h4 class="font-medium text-gray-900 dark:text-white mb-3">Backup Database</h4>
                                        <div class="flex items-center space-x-4">
                                            <button type="button" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700">
                                                <i class="fas fa-download mr-2"></i>Backup Sekarang
                                            </button>
                                            <button type="button" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
                                                <i class="fas fa-upload mr-2"></i>Restore
                                            </button>
                                            <span class="text-sm text-gray-500 dark:text-gray-400">Last backup: 2024-02-15 08:30 AM</span>
                                        </div>
                                    </div>

                                    <div class="flex justify-end">
                                        <button type="submit" class="bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700">
                                            <i class="fas fa-save mr-2"></i>Simpan Pengaturan
                                        </button>
                                    </div>
                                </form>
                            </div>

                            <!-- Audit Log -->
                            <div x-show="activeSettingsTab === 'audit'">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Audit Log</h3>
                                    <div class="flex items-center space-x-2">
                                        <input type="date" class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        <select class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                            <option>Semua Aksi</option>
                                            <option>Login</option>
                                            <option>Create</option>
                                            <option>Update</option>
                                            <option>Delete</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                        <thead class="bg-gray-50 dark:bg-gray-700">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Waktu</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Pengguna</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Detail</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">IP Address</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                            <template x-for="log in auditLogs" :key="log.id">
                                                <tr class="table-hover">
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="log.timestamp"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="log.user"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs rounded-full"
                                                              :class="log.action === 'LOGIN' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                                      log.action === 'CREATE' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                                      log.action === 'UPDATE' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                                      log.action === 'DELETE' ? 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200' :
                                                                      'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200'"
                                                              x-text="log.action"></span>
                                                    </td>
                                                    <td class="px-6 py-4 text-sm text-gray-900 dark:text-white" x-text="log.details"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="log.ip_address"></td>
                                                </tr>
                                            </template>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals will be rendered here by JavaScript -->

    <script>
        function clinicApp() {
            return {
                // Authentication
                isLoggedIn: false,
                showPassword: false,
                loginLoading: false,
                loginForm: {
                    email: 'admin@demo.local',
                    password: 'Admin123!',
                    remember: false
                },
                currentUser: {
                    name: 'Dr. Admin',
                    role: 'Administrator',
                    email: 'admin@demo.local'
                },

                // UI State
                darkMode: false,
                sidebarOpen: false,
                activeMenu: 'dashboard',
                globalSearch: '',
                toasts: [],
                activeSettingsTab: 'clinic',

                // Modal states
                showPatientModal: false,
                showRegistrationModal: false,
                showScheduleModal: false,
                showRecordModal: false,
                showStockModal: false,
                showItemModal: false,
                showInvoiceModal: false,
                showUserModal: false,

                // Data states
                selectedPatient: null,
                reportType: 'visits',
                reportDateFrom: '',
                reportDateTo: '',
                reportPoli: '',
                reportData: [],

                // Navigation
                navigation: [
                    { key: 'dashboard', name: 'Dashboard', icon: 'fas fa-tachometer-alt' },
                    { key: 'patients', name: 'Data Pasien', icon: 'fas fa-users' },
                    { key: 'registrations', name: 'Pendaftaran', icon: 'fas fa-clipboard-list', badge: 8 },
                    { key: 'schedules', name: 'Jadwal Dokter', icon: 'fas fa-calendar-alt' },
                    { key: 'records', name: 'Rekam Medis', icon: 'fas fa-notes-medical' },
                    { key: 'pharmacy', name: 'Farmasi', icon: 'fas fa-pills', badge: 5 },
                    { key: 'billing', name: 'Kasir', icon: 'fas fa-cash-register' },
                    { key: 'reports', name: 'Laporan', icon: 'fas fa-chart-bar' },
                    { key: 'settings', name: 'Pengaturan', icon: 'fas fa-cog' }
                ],

                settingsTabs: [
                    { key: 'clinic', name: 'Profil Klinik' },
                    { key: 'users', name: 'Pengguna' },
                    { key: 'system', name: 'Sistem' },
                    { key: 'audit', name: 'Audit Log' }
                ],

                // Sample Data
                patients: [
                    { id: 1, name: 'John Doe', gender: 'Laki-laki', rm_number: 'RM-2024-00001', nik: '3201234567890123', birth_date: '1990-01-15', phone: '081234567890' },
                    { id: 2, name: 'Jane Smith', gender: 'Perempuan', rm_number: 'RM-2024-00002', nik: '3201234567890124', birth_date: '1985-05-20', phone: '081234567891' },
                    { id: 3, name: 'Bob Johnson', gender: 'Laki-laki', rm_number: 'RM-2024-00003', nik: '3201234567890125', birth_date: '1992-12-10', phone: '081234567892' }
                ],

                queues: [
                    { id: 1, number: 'A001', patient: 'John Doe', poli: 'Poli Umum', doctor: 'Dr. Smith', status: 'waiting' },
                    { id: 2, number: 'A002', patient: 'Jane Smith', poli: 'Poli Umum', doctor: 'Dr. Smith', status: 'called' },
                    { id: 3, number: 'B001', patient: 'Bob Johnson', poli: 'Poli Gigi', doctor: 'Dr. Brown', status: 'waiting' }
                ],

                registrations: [
                    { id: 1, queue_number: 'A001', patient_name: 'John Doe', patient_rm: 'RM-2024-00001', poli: 'Poli Umum', doctor: 'Dr. Smith', registration_time: '08:30', status: 'checkedin' },
                    { id: 2, queue_number: 'A002', patient_name: 'Jane Smith', patient_rm: 'RM-2024-00002', poli: 'Poli Umum', doctor: 'Dr. Smith', registration_time: '09:00', status: 'booked' },
                    { id: 3, queue_number: 'B001', patient_name: 'Bob Johnson', patient_rm: 'RM-2024-00003', poli: 'Poli Gigi', doctor: 'Dr. Brown', registration_time: '09:30', status: 'done' }
                ],

                doctorSchedules: [
                    { id: 1, doctor_name: 'Dr. Smith', doctor_specialty: 'Dokter Umum', poli: 'Poli Umum', day: 'Senin', start_time: '08:00', end_time: '12:00', quota: 20, is_active: true },
                    { id: 2, doctor_name: 'Dr. Brown', doctor_specialty: 'Dokter Gigi', poli: 'Poli Gigi', day: 'Selasa', start_time: '13:00', end_time: '17:00', quota: 15, is_active: true },
                    { id: 3, doctor_name: 'Dr. Johnson', doctor_specialty: 'Dokter Anak', poli: 'Poli Anak', day: 'Rabu', start_time: '08:00', end_time: '12:00', quota: 10, is_active: false }
                ],

                medicalRecords: [
                    {
                        id: 1,
                        date: '2024-02-15',
                        poli: 'Poli Umum',
                        doctor: 'Dr. Smith',
                        subjective: 'Pasien mengeluh demam tinggi sejak 2 hari yang lalu, disertai batuk dan pilek.',
                        objective: 'TD: 120/80 mmHg, Nadi: 88x/menit, Suhu: 38.5°C, RR: 20x/menit',
                        diagnosis: 'ISPA (Infeksi Saluran Pernapasan Atas)',
                        plan: 'Pemberian obat demam, antibiotik, dan vitamin. Kontrol 3 hari lagi.',
                        prescriptions: [
                            { id: 1, drug: 'Paracetamol', dose: '500mg', qty: 10, unit: 'tablet' },
                            { id: 2, drug: 'Amoxicillin', dose: '500mg', qty: 6, unit: 'kapsul' }
                        ],
                        attachments: []
                    }
                ],

                prescriptionQueue: [
                    {
                        id: 1,
                        prescription_number: 'RX-2024-001',
                        patient_name: 'John Doe',
                        doctor_name: 'Dr. Smith',
                        status: 'pending',
                        created_at: '10:30 AM',
                        items: [
                            { id: 1, drug_name: 'Paracetamol', dose: '500mg', qty: 10, unit: 'tablet', stock_available: true },
                            { id: 2, drug_name: 'Amoxicillin', dose: '500mg', qty: 6, unit: 'kapsul', stock_available: true }
                        ]
                    },
                    {
                        id: 2,
                        prescription_number: 'RX-2024-002',
                        patient_name: 'Jane Smith',
                        doctor_name: 'Dr. Brown',
                        status: 'preparing',
                        created_at: '11:00 AM',
                        items: [
                            { id: 3, drug_name: 'Ibuprofen', dose: '400mg', qty: 8, unit: 'tablet', stock_available: false }
                        ]
                    }
                ],

                criticalStockItems: [
                    { id: 1, name: 'Paracetamol 500mg', current_stock: 5, unit: 'box' },
                    { id: 2, name: 'Amoxicillin 500mg', current_stock: 2, unit: 'box' },
                    { id: 3, name: 'Vitamin C', current_stock: 8, unit: 'botol' }
                ],

                inventoryItems: [
                    { id: 1, name: 'Paracetamol', code: 'PCT500', category: 'Tablet', stock: 150, min_stock: 50, unit: 'tablet', purchase_price: 500, sell_price: 1000, exp_date: '2025-12-31' },
                    { id: 2, name: 'Amoxicillin', code: 'AMX500', category: 'Kapsul', stock: 80, min_stock: 30, unit: 'kapsul', purchase_price: 800, sell_price: 1500, exp_date: '2025-06-30' },
                    { id: 3, name: 'Vitamin C', code: 'VTC100', category: 'Tablet', stock: 200, min_stock: 100, unit: 'tablet', purchase_price: 300, sell_price: 600, exp_date: '2026-01-15' }
                ],

                pendingInvoices: [
                    {
                        id: 1,
                        invoice_number: 'INV-2024-001',
                        patient_name: 'John Doe',
                        registration_code: 'REG-2024-001',
                        date: '2024-02-15',
                        total: 125000,
                        discount: 0,
                        items: [
                            { id: 1, name: 'Konsultasi Dokter', qty: 1, total: 75000 },
                            { id: 2, name: 'Obat Paracetamol', qty: 10, total: 50000 }
                        ]
                    }
                ],

                invoiceHistory: [
                    { id: 1, invoice_number: 'INV-2024-001', patient_name: 'John Doe', patient_rm: 'RM-2024-00001', registration_code: 'REG-2024-001', date: '2024-02-15', total: 125000, payment_method: 'Tunai', status: 'paid' },
                    { id: 2, invoice_number: 'INV-2024-002', patient_name: 'Jane Smith', patient_rm: 'RM-2024-00002', registration_code: 'REG-2024-002', date: '2024-02-14', total: 200000, payment_method: 'Transfer', status: 'paid' }
                ],

                topDiagnoses: [
                    { code: 'J00', name: 'ISPA', count: 45 },
                    { code: 'K59.1', name: 'Diare', count: 32 },
                    { code: 'I10', name: 'Hipertensi', count: 28 },
                    { code: 'E11', name: 'Diabetes', count: 23 },
                    { code: 'M25.5', name: 'Nyeri Sendi', count: 19 }
                ],

                topDrugs: [
                    { id: 1, name: 'Paracetamol', usage: 150, quantity: 1500, unit: 'tablet' },
                    { id: 2, name: 'Amoxicillin', usage: 89, quantity: 534, unit: 'kapsul' },
                    { id: 3, name: 'Vitamin C', usage: 76, quantity: 760, unit: 'tablet' },
                    { id: 4, name: 'Ibuprofen', usage: 65, quantity: 520, unit: 'tablet' },
                    { id: 5, name: 'ORS', usage: 54, quantity: 108, unit: 'sachet' }
                ],

                systemUsers: [
                    { id: 1, name: 'Dr. Admin', email: 'admin@demo.local', role: 'admin', is_active: true, last_login: '2024-02-15 08:30' },
                    { id: 2, name: 'Dr. Smith', email: 'smith@demo.local', role: 'doctor', is_active: true, last_login: '2024-02-15 07:45' },
                    { id: 3, name: 'Nurse Jane', email: 'jane@demo.local', role: 'nurse', is_active: true, last_login: '2024-02-14 16:20' },
                    { id: 4, name: 'Pharmacist Bob', email: 'bob@demo.local', role: 'pharmacist', is_active: false, last_login: '2024-02-10 14:15' }
                ],

                auditLogs: [
                    { id: 1, timestamp: '2024-02-15 10:30:15', user: 'Dr. Admin', action: 'LOGIN', details: 'User logged in successfully', ip_address: '192.168.1.100' },
                    { id: 2, timestamp: '2024-02-15 10:25:32', user: 'Dr. Smith', action: 'CREATE', details: 'Created new patient: John Doe', ip_address: '192.168.1.101' },
                    { id: 3, timestamp: '2024-02-15 10:20:18', user: 'Nurse Jane', action: 'UPDATE', details: 'Updated patient information', ip_address: '192.168.1.102' },
                    { id: 4, timestamp: '2024-02-15 09:45:22', user: 'Pharmacist Bob', action: 'DELETE', details: 'Deleted expired stock item', ip_address: '192.168.1.103' }
                ],

                // Methods
                init() {
                    // Initialize app
                    this.checkDarkMode();
                    this.setCurrentDate();
                    
                    // Global keyboard shortcuts
                    document.addEventListener('keydown', (e) => {
                        if (e.ctrlKey && e.key === '/') {
                            e.preventDefault();
                            document.querySelector('input[placeholder*="Cari"]').focus();
                        }
                    });
                },

                checkDarkMode() {
                    this.darkMode = localStorage.getItem('darkMode') === 'true';
                    this.applyDarkMode();
                },

                toggleDarkMode() {
                    this.darkMode = !this.darkMode;
                    localStorage.setItem('darkMode', this.darkMode);
                    this.applyDarkMode();
                },

                applyDarkMode() {
                    if (this.darkMode) {
                        document.documentElement.classList.add('dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                    }
                },

                setCurrentDate() {
                    const today = new Date().toISOString().split('T')[0];
                    this.reportDateFrom = today;
                    this.reportDateTo = today;
                },

                login() {
                    this.loginLoading = true;
                    
                    // Simulate API call
                    setTimeout(() => {
                        if (this.loginForm.email === 'admin@demo.local' && this.loginForm.password === 'Admin123!') {
                            this.isLoggedIn = true;
                            this.showToast('Login berhasil!', 'success');
                        } else {
                            this.showToast('Email atau password salah!', 'error');
                        }
                        this.loginLoading = false;
                    }, 1500);
                },

                logout() {
                    this.isLoggedIn = false;
                    this.activeMenu = 'dashboard';
                    this.showToast('Logout berhasil!', 'info');
                },

                setActiveMenu(menu) {
                    this.activeMenu = menu;
                    this.sidebarOpen = false; // Close sidebar on mobile
                },

                getBreadcrumbTitle() {
                    const menu = this.navigation.find(item => item.key === this.activeMenu);
                    return menu ? menu.name : 'Dashboard';
                },

                showToast(message, type = 'info') {
                    const id = Date.now();
                    const toast = { id, message, type, show: true };
                    this.toasts.push(toast);
                    
                    // Auto remove after 5 seconds
                    setTimeout(() => {
                        this.removeToast(id);
                    }, 5000);
                },

                removeToast(id) {
                    const index = this.toasts.findIndex(toast => toast.id === id);
                    if (index > -1) {
                        this.toasts[index].show = false;
                        setTimeout(() => {
                            this.toasts.splice(index, 1);
                        }, 300);
                    }
                },

                // Schedule Helper
                getScheduleForDayHour(day, hour) {
                    return this.doctorSchedules.filter(schedule => {
                        const startHour = parseInt(schedule.start_time.split(':')[0]);
                        const endHour = parseInt(schedule.end_time.split(':')[0]);
                        return schedule.is_active && startHour <= hour && hour < endHour;
                    });
                },

                // Prescription Methods
                startPrescription(id) {
                    const prescription = this.prescriptionQueue.find(p => p.id === id);
                    if (prescription) {
                        prescription.status = 'preparing';
                        this.showToast('Resep dimulai', 'info');
                    }
                },

                completePrescription(id) {
                    const prescription = this.prescriptionQueue.find(p => p.id === id);
                    if (prescription) {
                        prescription.status = 'dispensed';
                        this.showToast('Resep selesai disiapkan', 'success');
                    }
                },

                // Payment Methods
                processPayment(invoiceId) {
                    const invoice = this.pendingInvoices.find(inv => inv.id === invoiceId);
                    if (invoice) {
                        // Move to history
                        this.invoiceHistory.unshift({
                            ...invoice,
                            payment_method: 'Tunai',
                            status: 'paid'
                        });
                        
                        // Remove from pending
                        const index = this.pendingInvoices.findIndex(inv => inv.id === invoiceId);
                        this.pendingInvoices.splice(index, 1);
                        
                        this.showToast('Pembayaran berhasil diproses', 'success');
                    }
                },

                // Report Methods
                generateReport() {
                    this.showToast('Generating report...', 'info');
                    // Simulate report generation
                    setTimeout(() => {
                        this.reportData = [
                            { id: 1, date: '2024-02-15', visits: 24, revenue: 2400000 },
                            { id: 2, date: '2024-02-14', visits: 18, revenue: 1800000 },
                            { id: 3, date: '2024-02-13', visits: 31, revenue: 3100000 }
                        ];
                        this.showToast('Report generated successfully', 'success');
                    }, 2000);
                },

                getReportTitle() {
                    const types = {
                        visits: 'Laporan Kunjungan',
                        revenue: 'Laporan Pendapatan',
                        diagnoses: 'Laporan Diagnosa',
                        drugs: 'Laporan Pemakaian Obat',
                        doctors: 'Laporan Kinerja Dokter'
                    };
                    return types[this.reportType] || 'Laporan';
                },

                getReportColumns() {
                    const columns = {
                        visits: [
                            { key: 'date', title: 'Tanggal' },
                            { key: 'visits', title: 'Jumlah Kunjungan' }
                        ],
                        revenue: [
                            { key: 'date', title: 'Tanggal' },
                            { key: 'revenue', title: 'Pendapatan' }
                        ]
                    };
                    return columns[this.reportType] || [];
                },

                exportReport(format) {
                    this.showToast(`Exporting report as ${format.toUpperCase()}...`, 'info');
                    // Simulate export
                    setTimeout(() => {
                        this.showToast(`Report exported as ${format.toUpperCase()}`, 'success');
                    }, 1500);
                }
            }
        }
    </script>
</body>
</html>

```

🎨 **Generating images based on descriptions...**

✅ **Images generated successfully! Here's your updated content:**

`index.html`
```html

<!DOCTYPE html>
<html lang="id" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SI Klinik - Sistem Informasi Klinik</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .sidebar-transition { transition: transform 0.3s ease-in-out; }
        .toast { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .modal-backdrop { backdrop-filter: blur(4px); }
        .table-hover:hover { background-color: rgba(59, 130, 246, 0.05); }
        .loading-spinner { animation: spin 1s linear infinite; }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>

<body class="h-full bg-gray-50 dark:bg-gray-900" x-data="clinicApp()" x-init="init()">
    <!-- Toast Notifications -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2">
        <template x-for="toast in toasts" :key="toast.id">
            <div class="toast flex items-center p-4 mb-4 text-sm rounded-lg shadow-lg max-w-xs"
                 :class="toast.type === 'success' ? 'text-green-800 bg-green-50 dark:bg-green-800 dark:text-green-200' : 
                         toast.type === 'error' ? 'text-red-800 bg-red-50 dark:bg-red-800 dark:text-red-200' :
                         'text-blue-800 bg-blue-50 dark:bg-blue-800 dark:text-blue-200'"
                 x-show="toast.show" 
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="opacity-0 transform translate-x-full"
                 x-transition:enter-end="opacity-100 transform translate-x-0">
                <i :class="toast.type === 'success' ? 'fas fa-check-circle' : 
                           toast.type === 'error' ? 'fas fa-exclamation-circle' : 
                           'fas fa-info-circle'" class="mr-2"></i>
                <span x-text="toast.message"></span>
                <button @click="removeToast(toast.id)" class="ml-auto text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </template>
    </div>

    <!-- Login Modal -->
    <div x-show="!isLoggedIn" class="fixed inset-0 z-50 overflow-y-auto modal-backdrop bg-gray-900 bg-opacity-50" x-cloak>
        <div class="flex items-center justify-center min-h-screen px-4">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 fade-in">
                <div class="text-center mb-6">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/63df36b6-ef6c-45dc-ad88-b9378321203d.png" alt="Logo klinik modern dengan simbol kesehatan berupa tanda plus dalam lingkaran biru dengan gradien" class="mx-auto mb-4 rounded-full">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white">SI Klinik</h2>
                    <p class="text-gray-600 dark:text-gray-400">Sistem Informasi Klinik</p>
                </div>
                
                <form @submit.prevent="login()" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
                        <input type="email" x-model="loginForm.email" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Password</label>
                        <div class="relative">
                            <input :type="showPassword ? 'text' : 'password'" x-model="loginForm.password" required
                                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            <button type="button" @click="showPassword = !showPassword" 
                                    class="absolute right-3 top-2.5 text-gray-400 hover:text-gray-600">
                                <i :class="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                            </button>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <label class="flex items-center">
                            <input type="checkbox" x-model="loginForm.remember" class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                            <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Ingat saya</span>
                        </label>
                        <a href="#" class="text-sm text-primary-600 hover:text-primary-500">Lupa password?</a>
                    </div>
                    <button type="submit" :disabled="loginLoading"
                            class="w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50">
                        <span x-show="!loginLoading">Masuk</span>
                        <span x-show="loginLoading" class="flex items-center justify-center">
                            <i class="fas fa-spinner loading-spinner mr-2"></i>
                            Memproses...
                        </span>
                    </button>
                </form>
                
                <div class="mt-4 text-center">
                    <p class="text-xs text-gray-500">Demo Login:</p>
                    <p class="text-xs text-gray-400">admin@demo.local / Admin123!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Layout -->
    <div x-show="isLoggedIn" class="h-full flex" x-cloak>
        <!-- Sidebar -->
        <div class="sidebar-transition fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 shadow-lg transform lg:translate-x-0"
             :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'">
            
            <!-- Logo -->
            <div class="flex items-center justify-center h-16 bg-primary-600 text-white">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/681d72f0-b064-4b95-9744-ff168fac5eac.png" alt="Logo klinik kompak dengan ikon medis modern dalam warna putih" class="w-8 h-8 mr-2">
                <span class="text-lg font-semibold">SI Klinik</span>
            </div>

            <!-- Navigation -->
            <nav class="mt-8 px-4">
                <template x-for="item in navigation" :key="item.name">
                    <div>
                        <a @click="setActiveMenu(item.key)" href="#"
                           class="group flex items-center px-2 py-2 text-sm font-medium rounded-md mb-1 transition-colors"
                           :class="activeMenu === item.key ? 'bg-primary-100 text-primary-700 dark:bg-primary-800 dark:text-primary-100' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700'">
                            <i :class="item.icon" class="mr-3 text-lg w-5"></i>
                            <span x-text="item.name"></span>
                            <span x-show="item.badge" 
                                  class="ml-auto bg-red-500 text-white text-xs rounded-full px-2 py-1" 
                                  x-text="item.badge"></span>
                        </a>
                    </div>
                </template>
            </nav>

            <!-- User Profile in Sidebar -->
            <div class="absolute bottom-0 w-full p-4 border-t dark:border-gray-700">
                <div class="flex items-center space-x-3">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/58272688-de16-49d1-9245-c9f8dc297d16.png" alt="Foto profil pengguna dengan background biru profesional" class="w-10 h-10 rounded-full">
                    <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 dark:text-white truncate" x-text="currentUser.name"></p>
                        <p class="text-xs text-gray-500 dark:text-gray-400" x-text="currentUser.role"></p>
                    </div>
                    <button @click="logout()" class="text-gray-400 hover:text-red-500" title="Logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 lg:ml-64">
            <!-- Top Bar -->
            <div class="bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700 px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <button @click="sidebarOpen = !sidebarOpen" class="lg:hidden text-gray-500 hover:text-gray-700">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                        
                        <!-- Breadcrumbs -->
                        <nav class="hidden sm:flex" aria-label="Breadcrumb">
                            <ol class="inline-flex items-center space-x-1 md:space-x-3">
                                <li class="inline-flex items-center">
                                    <span class="text-gray-500 dark:text-gray-400">SI Klinik</span>
                                </li>
                                <li>
                                    <div class="flex items-center">
                                        <i class="fas fa-chevron-right text-gray-400 mx-2"></i>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white" x-text="getBreadcrumbTitle()"></span>
                                    </div>
                                </li>
                            </ol>
                        </nav>
                    </div>

                    <div class="flex items-center space-x-4">
                        <!-- Global Search -->
                        <div class="relative">
                            <input type="text" placeholder="Cari (Ctrl+/)" 
                                   class="w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                                   x-model="globalSearch" @keydown.escape="globalSearch = ''" @keydown.ctrl.slash.prevent="$el.focus()">
                            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                        </div>

                        <!-- Notifications -->
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" class="relative p-2 text-gray-400 hover:text-gray-500">
                                <i class="fas fa-bell text-xl"></i>
                                <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
                            </button>
                            <div x-show="open" @click.away="open = false" 
                                 class="absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700 z-50"
                                 x-transition>
                                <div class="p-4 border-b dark:border-gray-700">
                                    <h3 class="text-sm font-semibold text-gray-900 dark:text-white">Notifikasi</h3>
                                </div>
                                <div class="max-h-64 overflow-y-auto">
                                    <div class="p-3 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700">
                                        <p class="text-sm text-gray-900 dark:text-white">Stok obat Paracetamol hampir habis</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">2 menit yang lalu</p>
                                    </div>
                                    <div class="p-3 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700">
                                        <p class="text-sm text-gray-900 dark:text-white">Pasien baru terdaftar: John Doe</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">5 menit yang lalu</p>
                                    </div>
                                    <div class="p-3 hover:bg-gray-50 dark:hover:bg-gray-700">
                                        <p class="text-sm text-gray-900 dark:text-white">Jadwal dokter Dr. Smith telah diperbarui</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">10 menit yang lalu</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Dark Mode Toggle -->
                        <button @click="toggleDarkMode()" class="p-2 text-gray-400 hover:text-gray-500">
                            <i :class="darkMode ? 'fas fa-sun' : 'fas fa-moon'" class="text-xl"></i>
                        </button>

                        <!-- User Menu -->
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" class="flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/d4f2580d-342d-4861-b589-963a8e6ce04f.png" alt="Avatar pengguna dengan background profesional" class="w-8 h-8 rounded-full">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div x-show="open" @click.away="open = false"
                                 class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700 z-50"
                                 x-transition>
                                <div class="py-1">
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                        <i class="fas fa-user mr-2"></i>Profil
                                    </a>
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                        <i class="fas fa-cog mr-2"></i>Pengaturan
                                    </a>
                                    <hr class="my-1 dark:border-gray-700">
                                    <a href="#" @click="logout()" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700">
                                        <i class="fas fa-sign-out-alt mr-2"></i>Logout
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Content -->
            <main class="p-6">
                <!-- Dashboard -->
                <div x-show="activeMenu === 'dashboard'">
                    <div class="mb-6">
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Dashboard</h1>
                        <p class="text-gray-600 dark:text-gray-400">Selamat datang di Sistem Informasi Klinik</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">Kunjungan Hari Ini</h3>
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">24</p>
                                    <p class="text-sm text-green-600">+12% dari kemarin</p>
                                </div>
                                <div class="bg-blue-100 dark:bg-blue-900 p-3 rounded-full">
                                    <i class="fas fa-users text-blue-600 dark:text-blue-300 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">Antrian Aktif</h3>
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">8</p>
                                    <p class="text-sm text-yellow-600">3 poli aktif</p>
                                </div>
                                <div class="bg-yellow-100 dark:bg-yellow-900 p-3 rounded-full">
                                    <i class="fas fa-clock text-yellow-600 dark:text-yellow-300 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">Stok Kritis</h3>
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">5</p>
                                    <p class="text-sm text-red-600">Perlu restok</p>
                                </div>
                                <div class="bg-red-100 dark:bg-red-900 p-3 rounded-full">
                                    <i class="fas fa-exclamation-triangle text-red-600 dark:text-red-300 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">Pendapatan Hari Ini</h3>
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">Rp 2.4M</p>
                                    <p class="text-sm text-green-600">+8% dari target</p>
                                </div>
                                <div class="bg-green-100 dark:bg-green-900 p-3 rounded-full">
                                    <i class="fas fa-chart-line text-green-600 dark:text-green-300 text-xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts and Recent Activities -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Kunjungan Mingguan</h3>
                            <div class="h-64 flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/bb996fd9-3ffa-4363-ba18-440c556f611e.png" alt="Grafik batang menunjukkan data kunjungan pasien selama seminggu dengan trend naik turun" class="rounded">
                            </div>
                        </div>

                        <!-- Recent Activities -->
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Aktivitas Terkini</h3>
                            <div class="space-y-4">
                                <div class="flex items-start space-x-3">
                                    <div class="bg-blue-100 dark:bg-blue-900 p-2 rounded-full">
                                        <i class="fas fa-user-plus text-blue-600 dark:text-blue-300"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-900 dark:text-white">Pasien baru terdaftar</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">John Doe - 10:30 AM</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <div class="bg-green-100 dark:bg-green-900 p-2 rounded-full">
                                        <i class="fas fa-check-circle text-green-600 dark:text-green-300"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-900 dark:text-white">Pemeriksaan selesai</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Jane Smith - Poli Umum - 10:15 AM</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <div class="bg-yellow-100 dark:bg-yellow-900 p-2 rounded-full">
                                        <i class="fas fa-pills text-yellow-600 dark:text-yellow-300"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-900 dark:text-white">Resep disiapkan</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Resep #RX001 - 10:00 AM</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <div class="bg-purple-100 dark:bg-purple-900 p-2 rounded-full">
                                        <i class="fas fa-calendar text-purple-600 dark:text-purple-300"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-900 dark:text-white">Jadwal dokter diperbarui</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Dr. Smith - 09:45 AM</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patients Management -->
                <div x-show="activeMenu === 'patients'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Data Pasien</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola data pasien klinik</p>
                        </div>
                        <button @click="showPatientModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Tambah Pasien
                        </button>
                    </div>

                    <!-- Search and Filter -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div>
                                <input type="text" placeholder="Cari nama, NIK, atau No. RM" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div>
                                <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <option>Semua Jenis Kelamin</option>
                                    <option>Laki-laki</option>
                                    <option>Perempuan</option>
                                </select>
                            </div>
                            <div>
                                <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div>
                                <button class="w-full bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600">
                                    <i class="fas fa-search mr-2"></i>Cari
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Patients Table -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            Pasien
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            No. RM
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            NIK
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            Tgl Lahir
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            Kontak
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                            Aksi
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="patient in patients" :key="patient.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3529d417-6f51-42a6-bcef-bcaa07c85f2a.png" alt="Foto pasien dengan latar belakang netral" class="w-10 h-10 rounded-full mr-3">
                                                    <div>
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="patient.name"></div>
                                                        <div class="text-sm text-gray-500 dark:text-gray-400" x-text="patient.gender"></div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="patient.rm_number"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="patient.nik"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="patient.birth_date"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="patient.phone"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900" title="Lihat Detail">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="text-red-600 hover:text-red-900" title="Hapus">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900" title="QR Code">
                                                    <i class="fas fa-qrcode"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>

                        <!-- Pagination -->
                        <div class="bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6">
                            <div class="flex items-center justify-between">
                                <div class="flex-1 flex justify-between sm:hidden">
                                    <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                        Previous
                                    </button>
                                    <button class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                        Next
                                    </button>
                                </div>
                                <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                                    <div>
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            Menampilkan <span class="font-medium">1</span> sampai <span class="font-medium">10</span> dari <span class="font-medium">97</span> hasil
                                        </p>
                                    </div>
                                    <div>
                                        <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                                            <button class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                                <i class="fas fa-chevron-left"></i>
                                            </button>
                                            <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">1</button>
                                            <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">2</button>
                                            <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">3</button>
                                            <button class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                                <i class="fas fa-chevron-right"></i>
                                            </button>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Registration/Queue -->
                <div x-show="activeMenu === 'registrations'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Pendaftaran & Antrian</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola pendaftaran pasien dan antrian</p>
                        </div>
                        <button @click="showRegistrationModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Daftar Pasien
                        </button>
                    </div>

                    <!-- Queue Monitor -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <div class="lg:col-span-2">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Antrian Hari Ini</h3>
                                <div class="space-y-4">
                                    <template x-for="queue in queues" :key="queue.id">
                                        <div class="flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg">
                                            <div class="flex items-center space-x-4">
                                                <div class="bg-primary-100 dark:bg-primary-900 px-3 py-2 rounded-lg">
                                                    <span class="text-primary-700 dark:text-primary-300 font-bold" x-text="queue.number"></span>
                                                </div>
                                                <div>
                                                    <p class="font-medium text-gray-900 dark:text-white" x-text="queue.patient"></p>
                                                    <p class="text-sm text-gray-500 dark:text-gray-400" x-text="queue.poli + ' - ' + queue.doctor"></p>
                                                </div>
                                            </div>
                                            <div class="flex items-center space-x-2">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="queue.status === 'waiting' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                              queue.status === 'called' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                              'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'"
                                                      x-text="queue.status === 'waiting' ? 'Menunggu' : queue.status === 'called' ? 'Dipanggil' : 'Selesai'"></span>
                                                <button class="text-blue-600 hover:text-blue-900" title="Panggil">
                                                    <i class="fas fa-bullhorn"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>

                        <!-- Queue Statistics -->
                        <div class="space-y-6">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Status Antrian</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Total Antrian</span>
                                        <span class="font-bold text-gray-900 dark:text-white">24</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Menunggu</span>
                                        <span class="font-bold text-yellow-600">8</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Sedang Dilayani</span>
                                        <span class="font-bold text-blue-600">3</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Selesai</span>
                                        <span class="font-bold text-green-600">13</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Antrian per Poli</h3>
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Poli Umum</span>
                                        <span class="text-sm font-medium">12</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Poli Gigi</span>
                                        <span class="text-sm font-medium">8</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Poli Anak</span>
                                        <span class="text-sm font-medium">4</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Today's Registrations -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Pendaftaran Hari Ini</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">No. Antrian</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Pasien</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Poli</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Dokter</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Jam Daftar</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="registration in registrations" :key="registration.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="bg-primary-100 text-primary-800 text-sm font-medium px-2.5 py-0.5 rounded dark:bg-primary-900 dark:text-primary-300" 
                                                      x-text="registration.queue_number"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="registration.patient_name"></div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400" x-text="registration.patient_rm"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="registration.poli"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="registration.doctor"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="registration.registration_time"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="registration.status === 'booked' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                              registration.status === 'checkedin' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                              registration.status === 'done' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                              'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'"
                                                      x-text="registration.status === 'booked' ? 'Terdaftar' : 
                                                              registration.status === 'checkedin' ? 'Check-in' : 
                                                              registration.status === 'done' ? 'Selesai' : 'Dibatalkan'"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900" title="Check-in">
                                                    <i class="fas fa-check"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900" title="Cetak Tiket">
                                                    <i class="fas fa-print"></i>
                                                </button>
                                                <button class="text-red-600 hover:text-red-900" title="Batalkan">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Doctor Schedules -->
                <div x-show="activeMenu === 'schedules'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Jadwal Dokter</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola jadwal praktek dokter</p>
                        </div>
                        <button @click="showScheduleModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Tambah Jadwal
                        </button>
                    </div>

                    <!-- Calendar View -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Jadwal Mingguan</h3>
                            <div class="flex items-center space-x-2">
                                <button class="px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <span class="text-sm text-gray-600 dark:text-gray-400">12 - 18 Februari 2024</span>
                                <button class="px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Weekly Calendar -->
                        <div class="grid grid-cols-8 gap-1">
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400"></div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Sen</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Sel</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Rab</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Kam</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Jum</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Sab</div>
                            <div class="p-3 text-center font-medium text-gray-500 dark:text-gray-400">Min</div>

                            <!-- Time slots -->
                            <template x-for="hour in [8,9,10,11,13,14,15,16]" :key="hour">
                                <div class="col-span-8 grid grid-cols-8 gap-1">
                                    <div class="p-3 text-center text-sm text-gray-500 dark:text-gray-400 border-r" x-text="hour + ':00'"></div>
                                    <template x-for="day in 7" :key="day">
                                        <div class="p-2 min-h-16 border border-gray-200 dark:border-gray-700 rounded">
                                            <template x-for="schedule in getScheduleForDayHour(day, hour)" :key="schedule.id">
                                                <div class="text-xs p-1 mb-1 rounded"
                                                     :class="schedule.poli === 'Umum' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                             schedule.poli === 'Gigi' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                             'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200'">
                                                    <div class="font-medium" x-text="schedule.doctor"></div>
                                                    <div x-text="schedule.poli"></div>
                                                    <div x-text="schedule.quota + ' pasien'"></div>
                                                </div>
                                            </template>
                                        </div>
                                    </template>
                                </div>
                            </template>
                        </div>
                    </div>

                    <!-- Schedule List -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Daftar Jadwal</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Dokter</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Poli</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Hari</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Waktu</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Kuota</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="schedule in doctorSchedules" :key="schedule.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/879c893b-cfc3-4f18-a320-a3da515d23d0.png" alt="Foto dokter profesional dengan jas putih" class="w-10 h-10 rounded-full mr-3">
                                                    <div>
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="schedule.doctor_name"></div>
                                                        <div class="text-sm text-gray-500 dark:text-gray-400" x-text="schedule.doctor_specialty"></div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="schedule.poli"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="schedule.day"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="schedule.start_time + ' - ' + schedule.end_time"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="schedule.quota + ' pasien'"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="schedule.is_active ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'"
                                                      x-text="schedule.is_active ? 'Aktif' : 'Nonaktif'"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="text-red-600 hover:text-red-900" title="Hapus">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                                <button class="text-blue-600 hover:text-blue-900" title="Toggle Status">
                                                    <i class="fas fa-toggle-on"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Medical Records -->
                <div x-show="activeMenu === 'records'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Rekam Medis</h1>
                            <p class="text-gray-600 dark:text-gray-400">Rekam medis elektronik pasien</p>
                        </div>
                        <button @click="showRecordModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Tambah RME
                        </button>
                    </div>

                    <!-- Patient Search -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6">
                        <div class="flex items-center space-x-4">
                            <div class="flex-1">
                                <input type="text" placeholder="Cari pasien (nama, No. RM, NIK)" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <button class="bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700">
                                <i class="fas fa-search mr-2"></i>Cari
                            </button>
                        </div>
                    </div>

                    <!-- Patient Info Card -->
                    <div x-show="selectedPatient" class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Informasi Pasien</h3>
                            <button @click="selectedPatient = null" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div x-show="selectedPatient" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="flex items-center space-x-4">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/a73a21c4-6bd8-41a4-9904-7ab4df9f1c59.png" alt="Foto profil pasien dengan latar belakang medis" class="w-15 h-15 rounded-full">
                                <div>
                                    <h4 class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.name || 'John Doe'"></h4>
                                    <p class="text-sm text-gray-500 dark:text-gray-400" x-text="selectedPatient?.gender || 'Laki-laki' + ' • ' + (selectedPatient?.age || '32 tahun')"></p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400" x-text="selectedPatient?.rm_number || 'RM-2024-00001'"></p>
                                </div>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 dark:text-gray-400">NIK</p>
                                <p class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.nik || '3201234567890123'"></p>
                                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Alamat</p>
                                <p class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.address || 'Jl. Contoh No. 123, Jakarta'"></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Kontak</p>
                                <p class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.phone || '081234567890'"></p>
                                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Penanggung Jawab</p>
                                <p class="font-medium text-gray-900 dark:text-white" x-text="selectedPatient?.guardian || 'BPJS Kesehatan'"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Medical Records List -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Riwayat Kunjungan</h3>
                        </div>
                        <div class="divide-y divide-gray-200 dark:divide-gray-700">
                            <template x-for="record in medicalRecords" :key="record.id">
                                <div class="p-6">
                                    <div class="flex items-start justify-between">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-4 mb-3">
                                                <span class="bg-primary-100 text-primary-800 text-sm font-medium px-2.5 py-0.5 rounded dark:bg-primary-900 dark:text-primary-300" x-text="record.date"></span>
                                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="record.poli + ' • ' + record.doctor"></span>
                                            </div>
                                            
                                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-4">
                                                <!-- SOAP -->
                                                <div>
                                                    <h4 class="font-medium text-gray-900 dark:text-white mb-2">Subjective & Objective</h4>
                                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2" x-text="record.subjective"></p>
                                                    <p class="text-sm text-gray-600 dark:text-gray-400" x-text="record.objective"></p>
                                                </div>
                                                <div>
                                                    <h4 class="font-medium text-gray-900 dark:text-white mb-2">Assessment & Plan</h4>
                                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2"><strong>Diagnosa:</strong> <span x-text="record.diagnosis"></span></p>
                                                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Rencana:</strong> <span x-text="record.plan"></span></p>
                                                </div>
                                            </div>

                                            <!-- Prescriptions -->
                                            <div x-show="record.prescriptions && record.prescriptions.length > 0" class="mb-4">
                                                <h4 class="font-medium text-gray-900 dark:text-white mb-2">Resep Obat</h4>
                                                <div class="bg-gray-50 dark:bg-gray-700 rounded p-3">
                                                    <template x-for="prescription in record.prescriptions" :key="prescription.id">
                                                        <div class="flex justify-between items-center py-1">
                                                            <span class="text-sm text-gray-600 dark:text-gray-400" x-text="prescription.drug + ' ' + prescription.dose"></span>
                                                            <span class="text-sm text-gray-500 dark:text-gray-500" x-text="prescription.qty + ' ' + prescription.unit"></span>
                                                        </div>
                                                    </template>
                                                </div>
                                            </div>

                                            <!-- Attachments -->
                                            <div x-show="record.attachments && record.attachments.length > 0">
                                                <h4 class="font-medium text-gray-900 dark:text-white mb-2">Lampiran</h4>
                                                <div class="flex space-x-2">
                                                    <template x-for="file in record.attachments" :key="file.id">
                                                        <button class="text-blue-600 hover:text-blue-900 text-sm">
                                                            <i class="fas fa-paperclip mr-1"></i>
                                                            <span x-text="file.name"></span>
                                                        </button>
                                                    </template>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="flex items-center space-x-2">
                                            <button class="text-blue-600 hover:text-blue-900" title="Lihat Detail">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-green-600 hover:text-green-900" title="Cetak">
                                                <i class="fas fa-print"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Pharmacy -->
                <div x-show="activeMenu === 'pharmacy'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Farmasi</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola resep dan stok obat</p>
                        </div>
                        <div class="flex space-x-2">
                            <button @click="showStockModal = true" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
                                <i class="fas fa-boxes mr-2"></i>Kelola Stok
                            </button>
                            <button @click="showItemModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                                <i class="fas fa-plus mr-2"></i>Tambah Obat
                            </button>
                        </div>
                    </div>

                    <!-- Prescription Queue -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <div class="lg:col-span-2">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Antrian Resep</h3>
                                <div class="space-y-4">
                                    <template x-for="prescription in prescriptionQueue" :key="prescription.id">
                                        <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                            <div class="flex items-center justify-between mb-3">
                                                <div class="flex items-center space-x-3">
                                                    <span class="bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-200" x-text="prescription.prescription_number"></span>
                                                    <span class="text-sm text-gray-500 dark:text-gray-400" x-text="prescription.patient_name + ' • ' + prescription.doctor_name"></span>
                                                </div>
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="prescription.status === 'pending' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' : 
                                                              prescription.status === 'preparing' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                              'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'"
                                                      x-text="prescription.status === 'pending' ? 'Menunggu' : 
                                                              prescription.status === 'preparing' ? 'Sedang Disiapkan' : 'Selesai'"></span>
                                            </div>
                                            
                                            <div class="space-y-2 mb-3">
                                                <template x-for="item in prescription.items" :key="item.id">
                                                    <div class="flex justify-between items-center text-sm">
                                                        <span class="text-gray-900 dark:text-white" x-text="item.drug_name + ' ' + item.dose"></span>
                                                        <div class="flex items-center space-x-2">
                                                            <span class="text-gray-500 dark:text-gray-400" x-text="item.qty + ' ' + item.unit"></span>
                                                            <span class="text-xs" :class="item.stock_available ? 'text-green-600' : 'text-red-600'"
                                                                  x-text="item.stock_available ? 'Tersedia' : 'Stok Habis'"></span>
                                                        </div>
                                                    </div>
                                                </template>
                                            </div>

                                            <div class="flex items-center justify-between">
                                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="prescription.created_at"></span>
                                                <div class="flex space-x-2">
                                                    <button @click="startPrescription(prescription.id)" 
                                                            x-show="prescription.status === 'pending'"
                                                            class="text-blue-600 hover:text-blue-900 text-sm">
                                                        <i class="fas fa-play mr-1"></i>Mulai
                                                    </button>
                                                    <button @click="completePrescription(prescription.id)" 
                                                            x-show="prescription.status === 'preparing'"
                                                            class="text-green-600 hover:text-green-900 text-sm">
                                                        <i class="fas fa-check mr-1"></i>Selesai
                                                    </button>
                                                    <button class="text-gray-600 hover:text-gray-900 text-sm">
                                                        <i class="fas fa-print mr-1"></i>Cetak Etiket
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="space-y-6">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Status Farmasi</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Resep Menunggu</span>
                                        <span class="font-bold text-yellow-600">5</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Sedang Disiapkan</span>
                                        <span class="font-bold text-blue-600">2</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Selesai Hari Ini</span>
                                        <span class="font-bold text-green-600">23</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Stok Kritis</span>
                                        <span class="font-bold text-red-600">8</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Stok Kritis</h3>
                                <div class="space-y-3">
                                    <template x-for="item in criticalStockItems" :key="item.id">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="text-sm font-medium text-gray-900 dark:text-white" x-text="item.name"></p>
                                                <p class="text-xs text-red-600" x-text="'Stok: ' + item.current_stock + ' ' + item.unit"></p>
                                            </div>
                                            <button class="text-blue-600 hover:text-blue-900 text-xs">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Inventory Management -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Inventori Obat</h3>
                                <div class="flex items-center space-x-2">
                                    <input type="text" placeholder="Cari obat..." 
                                           class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <select class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        <option>Semua Kategori</option>
                                        <option>Tablet</option>
                                        <option>Sirup</option>
                                        <option>Kapsul</option>
                                        <option>Salep</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Obat</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Kategori</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Stok</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Harga</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Exp Date</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="item in inventoryItems" :key="item.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div>
                                                    <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="item.name"></div>
                                                    <div class="text-sm text-gray-500 dark:text-gray-400" x-text="item.code"></div>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="item.category"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm text-gray-900 dark:text-white" x-text="item.stock + ' ' + item.unit"></div>
                                                <div class="text-xs" :class="item.stock <= item.min_stock ? 'text-red-600' : 'text-gray-500 dark:text-gray-400'"
                                                     x-text="'Min: ' + item.min_stock + ' ' + item.unit"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm text-gray-900 dark:text-white" x-text="'Rp ' + item.sell_price.toLocaleString()"></div>
                                                <div class="text-xs text-gray-500 dark:text-gray-400" x-text="'HNA: Rp ' + item.purchase_price.toLocaleString()"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="item.exp_date"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="item.stock <= item.min_stock ? 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200' :
                                                              item.stock <= item.min_stock * 2 ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                              'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'"
                                                      x-text="item.stock <= item.min_stock ? 'Stok Habis' :
                                                              item.stock <= item.min_stock * 2 ? 'Stok Rendah' : 'Stok Aman'"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900" title="Tambah Stok">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                                <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900" title="Riwayat">
                                                    <i class="fas fa-history"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Billing -->
                <div x-show="activeMenu === 'billing'">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Kasir & Pembayaran</h1>
                            <p class="text-gray-600 dark:text-gray-400">Kelola pembayaran dan faktur</p>
                        </div>
                        <button @click="showInvoiceModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                            <i class="fas fa-plus mr-2"></i>Buat Invoice
                        </button>
                    </div>

                    <!-- Pending Invoices -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <div class="lg:col-span-2">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Invoice Belum Dibayar</h3>
                                <div class="space-y-4">
                                    <template x-for="invoice in pendingInvoices" :key="invoice.id">
                                        <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                            <div class="flex items-center justify-between mb-3">
                                                <div class="flex items-center space-x-3">
                                                    <span class="bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-200" x-text="invoice.invoice_number"></span>
                                                    <span class="text-sm text-gray-500 dark:text-gray-400" x-text="invoice.patient_name + ' • ' + invoice.date"></span>
                                                </div>
                                                <span class="text-lg font-bold text-gray-900 dark:text-white" x-text="'Rp ' + invoice.total.toLocaleString()"></span>
                                            </div>
                                            
                                            <div class="space-y-1 mb-3">
                                                <template x-for="item in invoice.items" :key="item.id">
                                                    <div class="flex justify-between items-center text-sm">
                                                        <span class="text-gray-600 dark:text-gray-400" x-text="item.name + ' x' + item.qty"></span>
                                                        <span class="text-gray-900 dark:text-white" x-text="'Rp ' + item.total.toLocaleString()"></span>
                                                    </div>
                                                </template>
                                                <div x-show="invoice.discount > 0" class="flex justify-between items-center text-sm">
                                                    <span class="text-gray-600 dark:text-gray-400">Diskon</span>
                                                    <span class="text-red-600" x-text="'-Rp ' + invoice.discount.toLocaleString()"></span>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-between">
                                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="invoice.registration_code"></span>
                                                <div class="flex space-x-2">
                                                    <button @click="processPayment(invoice.id)" class="bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700">
                                                        <i class="fas fa-credit-card mr-1"></i>Bayar
                                                    </button>
                                                    <button class="text-blue-600 hover:text-blue-900 text-sm">
                                                        <i class="fas fa-print mr-1"></i>Cetak
                                                    </button>
                                                    <button class="text-indigo-600 hover:text-indigo-900 text-sm">
                                                        <i class="fas fa-edit mr-1"></i>Edit
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Stats -->
                        <div class="space-y-6">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Ringkasan Hari Ini</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Total Pendapatan</span>
                                        <span class="font-bold text-green-600">Rp 2.4M</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Invoice Lunas</span>
                                        <span class="font-bold text-blue-600">23</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Belum Dibayar</span>
                                        <span class="font-bold text-yellow-600">5</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Rata-rata/Pasien</span>
                                        <span class="font-bold text-gray-900 dark:text-white">Rp 104K</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Metode Pembayaran</h3>
                                <div class="space-y-3">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Tunai</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">Rp 1.2M (50%)</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Transfer</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">Rp 800K (33%)</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">QRIS</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">Rp 400K (17%)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Invoice History -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Riwayat Invoice</h3>
                                <div class="flex items-center space-x-2">
                                    <input type="date" class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <select class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        <option>Semua Status</option>
                                        <option>Lunas</option>
                                        <option>Belum Dibayar</option>
                                        <option>Partial</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Invoice</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Pasien</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Tanggal</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Total</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Metode</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="invoice in invoiceHistory" :key="invoice.id">
                                        <tr class="table-hover">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="invoice.invoice_number"></div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400" x-text="invoice.registration_code"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="invoice.patient_name"></div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400" x-text="invoice.patient_rm"></div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="invoice.date"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white" x-text="'Rp ' + invoice.total.toLocaleString()"></td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="invoice.payment_method"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 text-xs rounded-full"
                                                      :class="invoice.status === 'paid' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                              invoice.status === 'partial' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                              'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'"
                                                      x-text="invoice.status === 'paid' ? 'Lunas' : 
                                                              invoice.status === 'partial' ? 'Sebagian' : 'Belum Dibayar'"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900" title="Lihat Detail">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900" title="Cetak">
                                                    <i class="fas fa-print"></i>
                                                </button>
                                                <button x-show="invoice.status !== 'paid'" class="text-yellow-600 hover:text-yellow-900" title="Bayar">
                                                    <i class="fas fa-credit-card"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Reports -->
                <div x-show="activeMenu === 'reports'">
                    <div class="mb-6">
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Laporan</h1>
                        <p class="text-gray-600 dark:text-gray-400">Generate dan analisis laporan klinik</p>
                    </div>

                    <!-- Report Filters -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Jenis Laporan</label>
                                <select x-model="reportType" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <option value="visits">Kunjungan</option>
                                    <option value="revenue">Pendapatan</option>
                                    <option value="diagnoses">Diagnosa</option>
                                    <option value="drugs">Pemakaian Obat</option>
                                    <option value="doctors">Kinerja Dokter</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Dari Tanggal</label>
                                <input type="date" x-model="reportDateFrom" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Sampai Tanggal</label>
                                <input type="date" x-model="reportDateTo" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Poli</label>
                                <select x-model="reportPoli" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                    <option value="">Semua Poli</option>
                                    <option value="1">Poli Umum</option>
                                    <option value="2">Poli Gigi</option>
                                    <option value="3">Poli Anak</option>
                                </select>
                            </div>
                            <div class="flex items-end">
                                <button @click="generateReport()" class="w-full bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700">
                                    <i class="fas fa-chart-bar mr-2"></i>Generate
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Report Results -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Chart -->
                        <div class="lg:col-span-2">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white" x-text="getReportTitle()"></h3>
                                    <div class="flex space-x-2">
                                        <button @click="exportReport('csv')" class="text-green-600 hover:text-green-900 text-sm">
                                            <i class="fas fa-file-csv mr-1"></i>CSV
                                        </button>
                                        <button @click="exportReport('excel')" class="text-blue-600 hover:text-blue-900 text-sm">
                                            <i class="fas fa-file-excel mr-1"></i>Excel
                                        </button>
                                        <button @click="exportReport('pdf')" class="text-red-600 hover:text-red-900 text-sm">
                                            <i class="fas fa-file-pdf mr-1"></i>PDF
                                        </button>
                                    </div>
                                </div>
                                <div class="h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded">
                                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/c2b1c527-7bf3-41c1-a8dc-544b77833698.png" alt="Grafik laporan dengan berbagai jenis chart seperti bar chart, line chart dan pie chart menampilkan data klinik" class="rounded">
                                </div>
                            </div>
                        </div>

                        <!-- Summary Stats -->
                        <div class="space-y-6">
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Ringkasan</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Total Kunjungan</span>
                                        <span class="font-bold text-gray-900 dark:text-white">247</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Total Pendapatan</span>
                                        <span class="font-bold text-green-600">Rp 12.4M</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Rata-rata/Hari</span>
                                        <span class="font-bold text-blue-600">35 kunjungan</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Poli Terpopuler</span>
                                        <span class="font-bold text-purple-600">Poli Umum</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Top 5 Diagnosa</h3>
                                <div class="space-y-3">
                                    <template x-for="diagnosis in topDiagnoses" :key="diagnosis.code">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="text-sm font-medium text-gray-900 dark:text-white" x-text="diagnosis.name"></p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400" x-text="diagnosis.code"></p>
                                            </div>
                                            <span class="text-sm font-bold text-primary-600" x-text="diagnosis.count"></span>
                                        </div>
                                    </template>
                                </div>
                            </div>

                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Top 5 Obat</h3>
                                <div class="space-y-3">
                                    <template x-for="drug in topDrugs" :key="drug.id">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="text-sm font-medium text-gray-900 dark:text-white" x-text="drug.name"></p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400" x-text="drug.usage + ' kali'"></p>
                                            </div>
                                            <span class="text-sm font-bold text-green-600" x-text="drug.quantity + ' ' + drug.unit"></span>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Report Table -->
                    <div class="mt-6 bg-white dark:bg-gray-800 rounded-lg shadow" x-show="reportData.length > 0">
                        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Data Detail</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-700">
                                    <tr>
                                        <template x-for="column in getReportColumns()" :key="column.key">
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" x-text="column.title"></th>
                                        </template>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="row in reportData" :key="row.id">
                                        <tr class="table-hover">
                                            <template x-for="column in getReportColumns()" :key="column.key">
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="row[column.key]"></td>
                                            </template>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Settings -->
                <div x-show="activeMenu === 'settings'">
                    <div class="mb-6">
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Pengaturan</h1>
                        <p class="text-gray-600 dark:text-gray-400">Konfigurasi sistem dan manajemen pengguna</p>
                    </div>

                    <!-- Settings Tabs -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow">
                        <div class="border-b border-gray-200 dark:border-gray-700">
                            <nav class="-mb-px flex space-x-8 px-6" aria-label="Tabs">
                                <template x-for="tab in settingsTabs" :key="tab.key">
                                    <button @click="activeSettingsTab = tab.key"
                                            class="py-4 px-1 border-b-2 font-medium text-sm"
                                            :class="activeSettingsTab === tab.key ? 'border-primary-500 text-primary-600 dark:text-primary-400' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400'"
                                            x-text="tab.name"></button>
                                </template>
                            </nav>
                        </div>

                        <div class="p-6">
                            <!-- Clinic Settings -->
                            <div x-show="activeSettingsTab === 'clinic'">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Profil Klinik</h3>
                                <form class="space-y-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nama Klinik</label>
                                            <input type="text" value="Klinik Sehat Bersama" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Telepon</label>
                                            <input type="tel" value="021-12345678" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div class="md:col-span-2">
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Alamat</label>
                                            <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">Jl. Kesehatan No. 123, Kelurahan Sehat, Kecamatan Wellness, Jakarta Pusat 10110</textarea>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
                                            <input type="email" value="info@kliniksehat.com" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Website</label>
                                            <input type="url" value="https://www.kliniksehat.com" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Format No. RM</label>
                                            <input type="text" value="RM-{YYYY}-{00000}" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">WhatsApp Gateway</label>
                                            <input type="text" value="081234567890" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Logo Klinik</label>
                                        <div class="flex items-center space-x-4">
                                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/198a88cd-0f4e-4ea1-9cef-bd71d80656b6.png" alt="Logo klinik yang dapat diunggah dengan format square" class="w-20 h-20 rounded-lg border">
                                            <div>
                                                <input type="file" accept="image/*" class="text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100">
                                                <p class="text-xs text-gray-500 mt-1">PNG, JPG, maksimal 2MB</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="flex justify-end">
                                        <button type="submit" class="bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700">
                                            <i class="fas fa-save mr-2"></i>Simpan Pengaturan
                                        </button>
                                    </div>
                                </form>
                            </div>

                            <!-- User Management -->
                            <div x-show="activeSettingsTab === 'users'">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Manajemen Pengguna</h3>
                                    <button @click="showUserModal = true" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700">
                                        <i class="fas fa-plus mr-2"></i>Tambah Pengguna
                                    </button>
                                </div>

                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                        <thead class="bg-gray-50 dark:bg-gray-700">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Pengguna</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Role</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Last Login</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                            <template x-for="user in systemUsers" :key="user.id">
                                                <tr class="table-hover">
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="flex items-center">
                                                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/9b89f1fb-8b3c-4f30-9d1e-6bc33775cb8c.png" alt="Avatar pengguna sistem dengan role berbeda" class="w-10 h-10 rounded-full mr-3">
                                                            <div>
                                                                <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="user.name"></div>
                                                                <div class="text-sm text-gray-500 dark:text-gray-400" x-text="user.email"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs rounded-full"
                                                              :class="user.role === 'admin' ? 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200' :
                                                                      user.role === 'doctor' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                                      user.role === 'nurse' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                                      user.role === 'pharmacist' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                                      'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200'"
                                                              x-text="user.role.charAt(0).toUpperCase() + user.role.slice(1)"></span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs rounded-full"
                                                              :class="user.is_active ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'"
                                                              x-text="user.is_active ? 'Aktif' : 'Nonaktif'"></span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="user.last_login"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                                                        <button class="text-indigo-600 hover:text-indigo-900" title="Edit">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button class="text-blue-600 hover:text-blue-900" title="Reset Password">
                                                            <i class="fas fa-key"></i>
                                                        </button>
                                                        <button class="text-yellow-600 hover:text-yellow-900" title="Toggle Status">
                                                            <i class="fas fa-toggle-on"></i>
                                                        </button>
                                                        <button class="text-red-600 hover:text-red-900" title="Hapus">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </template>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- System Settings -->
                            <div x-show="activeSettingsTab === 'system'">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Pengaturan Sistem</h3>
                                <form class="space-y-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Timezone</label>
                                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                                <option selected>Asia/Jakarta</option>
                                                <option>Asia/Bangkok</option>
                                                <option>Asia/Singapore</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Bahasa</label>
                                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                                <option selected>Bahasa Indonesia</option>
                                                <option>English</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Session Timeout (menit)</label>
                                            <input type="number" value="60" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Max Upload Size (MB)</label>
                                            <input type="number" value="10" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        </div>
                                    </div>

                                    <div class="space-y-4">
                                        <h4 class="font-medium text-gray-900 dark:text-white">Fitur Sistem</h4>
                                        <div class="space-y-3">
                                            <label class="flex items-center">
                                                <input type="checkbox" checked class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Enable WhatsApp Notifications</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" checked class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Enable Online Booking</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Enable Email Notifications</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" checked class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Enable Audit Logging</span>
                                            </label>
                                        </div>
                                    </div>

                                    <div>
                                        <h4 class="font-medium text-gray-900 dark:text-white mb-3">Backup Database</h4>
                                        <div class="flex items-center space-x-4">
                                            <button type="button" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700">
                                                <i class="fas fa-download mr-2"></i>Backup Sekarang
                                            </button>
                                            <button type="button" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
                                                <i class="fas fa-upload mr-2"></i>Restore
                                            </button>
                                            <span class="text-sm text-gray-500 dark:text-gray-400">Last backup: 2024-02-15 08:30 AM</span>
                                        </div>
                                    </div>

                                    <div class="flex justify-end">
                                        <button type="submit" class="bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700">
                                            <i class="fas fa-save mr-2"></i>Simpan Pengaturan
                                        </button>
                                    </div>
                                </form>
                            </div>

                            <!-- Audit Log -->
                            <div x-show="activeSettingsTab === 'audit'">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Audit Log</h3>
                                    <div class="flex items-center space-x-2">
                                        <input type="date" class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                        <select class="px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                            <option>Semua Aksi</option>
                                            <option>Login</option>
                                            <option>Create</option>
                                            <option>Update</option>
                                            <option>Delete</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                        <thead class="bg-gray-50 dark:bg-gray-700">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Waktu</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Pengguna</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Aksi</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Detail</th>
                                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">IP Address</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                            <template x-for="log in auditLogs" :key="log.id">
                                                <tr class="table-hover">
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="log.timestamp"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="log.user"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs rounded-full"
                                                              :class="log.action === 'LOGIN' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                                                                      log.action === 'CREATE' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                                                                      log.action === 'UPDATE' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                                                                      log.action === 'DELETE' ? 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200' :
                                                                      'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200'"
                                                              x-text="log.action"></span>
                                                    </td>
                                                    <td class="px-6 py-4 text-sm text-gray-900 dark:text-white" x-text="log.details"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white" x-text="log.ip_address"></td>
                                                </tr>
                                            </template>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals will be rendered here by JavaScript -->

    <script>
        function clinicApp() {
            return {
                // Authentication
                isLoggedIn: false,
                showPassword: false,
                loginLoading: false,
                loginForm: {
                    email: 'admin@demo.local',
                    password: 'Admin123!',
                    remember: false
                },
                currentUser: {
                    name: 'Dr. Admin',
                    role: 'Administrator',
                    email: 'admin@demo.local'
                },

                // UI State
                darkMode: false,
                sidebarOpen: false,
                activeMenu: 'dashboard',
                globalSearch: '',
                toasts: [],
                activeSettingsTab: 'clinic',

                // Modal states
                showPatientModal: false,
                showRegistrationModal: false,
                showScheduleModal: false,
                showRecordModal: false,
                showStockModal: false,
                showItemModal: false,
                showInvoiceModal: false,
                showUserModal: false,

                // Data states
                selectedPatient: null,
                reportType: 'visits',
                reportDateFrom: '',
                reportDateTo: '',
                reportPoli: '',
                reportData: [],

                // Navigation
                navigation: [
                    { key: 'dashboard', name: 'Dashboard', icon: 'fas fa-tachometer-alt' },
                    { key: 'patients', name: 'Data Pasien', icon: 'fas fa-users' },
                    { key: 'registrations', name: 'Pendaftaran', icon: 'fas fa-clipboard-list', badge: 8 },
                    { key: 'schedules', name: 'Jadwal Dokter', icon: 'fas fa-calendar-alt' },
                    { key: 'records', name: 'Rekam Medis', icon: 'fas fa-notes-medical' },
                    { key: 'pharmacy', name: 'Farmasi', icon: 'fas fa-pills', badge: 5 },
                    { key: 'billing', name: 'Kasir', icon: 'fas fa-cash-register' },
                    { key: 'reports', name: 'Laporan', icon: 'fas fa-chart-bar' },
                    { key: 'settings', name: 'Pengaturan', icon: 'fas fa-cog' }
                ],

                settingsTabs: [
                    { key: 'clinic', name: 'Profil Klinik' },
                    { key: 'users', name: 'Pengguna' },
                    { key: 'system', name: 'Sistem' },
                    { key: 'audit', name: 'Audit Log' }
                ],

                // Sample Data
                patients: [
                    { id: 1, name: 'John Doe', gender: 'Laki-laki', rm_number: 'RM-2024-00001', nik: '3201234567890123', birth_date: '1990-01-15', phone: '081234567890' },
                    { id: 2, name: 'Jane Smith', gender: 'Perempuan', rm_number: 'RM-2024-00002', nik: '3201234567890124', birth_date: '1985-05-20', phone: '081234567891' },
                    { id: 3, name: 'Bob Johnson', gender: 'Laki-laki', rm_number: 'RM-2024-00003', nik: '3201234567890125', birth_date: '1992-12-10', phone: '081234567892' }
                ],

                queues: [
                    { id: 1, number: 'A001', patient: 'John Doe', poli: 'Poli Umum', doctor: 'Dr. Smith', status: 'waiting' },
                    { id: 2, number: 'A002', patient: 'Jane Smith', poli: 'Poli Umum', doctor: 'Dr. Smith', status: 'called' },
                    { id: 3, number: 'B001', patient: 'Bob Johnson', poli: 'Poli Gigi', doctor: 'Dr. Brown', status: 'waiting' }
                ],

                registrations: [
                    { id: 1, queue_number: 'A001', patient_name: 'John Doe', patient_rm: 'RM-2024-00001', poli: 'Poli Umum', doctor: 'Dr. Smith', registration_time: '08:30', status: 'checkedin' },
                    { id: 2, queue_number: 'A002', patient_name: 'Jane Smith', patient_rm: 'RM-2024-00002', poli: 'Poli Umum', doctor: 'Dr. Smith', registration_time: '09:00', status: 'booked' },
                    { id: 3, queue_number: 'B001', patient_name: 'Bob Johnson', patient_rm: 'RM-2024-00003', poli: 'Poli Gigi', doctor: 'Dr. Brown', registration_time: '09:30', status: 'done' }
                ],

                doctorSchedules: [
                    { id: 1, doctor_name: 'Dr. Smith', doctor_specialty: 'Dokter Umum', poli: 'Poli Umum', day: 'Senin', start_time: '08:00', end_time: '12:00', quota: 20, is_active: true },
                    { id: 2, doctor_name: 'Dr. Brown', doctor_specialty: 'Dokter Gigi', poli: 'Poli Gigi', day: 'Selasa', start_time: '13:00', end_time: '17:00', quota: 15, is_active: true },
                    { id: 3, doctor_name: 'Dr. Johnson', doctor_specialty: 'Dokter Anak', poli: 'Poli Anak', day: 'Rabu', start_time: '08:00', end_time: '12:00', quota: 10, is_active: false }
                ],

                medicalRecords: [
                    {
                        id: 1,
                        date: '2024-02-15',
                        poli: 'Poli Umum',
                        doctor: 'Dr. Smith',
                        subjective: 'Pasien mengeluh demam tinggi sejak 2 hari yang lalu, disertai batuk dan pilek.',
                        objective: 'TD: 120/80 mmHg, Nadi: 88x/menit, Suhu: 38.5°C, RR: 20x/menit',
                        diagnosis: 'ISPA (Infeksi Saluran Pernapasan Atas)',
                        plan: 'Pemberian obat demam, antibiotik, dan vitamin. Kontrol 3 hari lagi.',
                        prescriptions: [
                            { id: 1, drug: 'Paracetamol', dose: '500mg', qty: 10, unit: 'tablet' },
                            { id: 2, drug: 'Amoxicillin', dose: '500mg', qty: 6, unit: 'kapsul' }
                        ],
                        attachments: []
                    }
                ],

                prescriptionQueue: [
                    {
                        id: 1,
                        prescription_number: 'RX-2024-001',
                        patient_name: 'John Doe',
                        doctor_name: 'Dr. Smith',
                        status: 'pending',
                        created_at: '10:30 AM',
                        items: [
                            { id: 1, drug_name: 'Paracetamol', dose: '500mg', qty: 10, unit: 'tablet', stock_available: true },
                            { id: 2, drug_name: 'Amoxicillin', dose: '500mg', qty: 6, unit: 'kapsul', stock_available: true }
                        ]
                    },
                    {
                        id: 2,
                        prescription_number: 'RX-2024-002',
                        patient_name: 'Jane Smith',
                        doctor_name: 'Dr. Brown',
                        status: 'preparing',
                        created_at: '11:00 AM',
                        items: [
                            { id: 3, drug_name: 'Ibuprofen', dose: '400mg', qty: 8, unit: 'tablet', stock_available: false }
                        ]
                    }
                ],

                criticalStockItems: [
                    { id: 1, name: 'Paracetamol 500mg', current_stock: 5, unit: 'box' },
                    { id: 2, name: 'Amoxicillin 500mg', current_stock: 2, unit: 'box' },
                    { id: 3, name: 'Vitamin C', current_stock: 8, unit: 'botol' }
                ],

                inventoryItems: [
                    { id: 1, name: 'Paracetamol', code: 'PCT500', category: 'Tablet', stock: 150, min_stock: 50, unit: 'tablet', purchase_price: 500, sell_price: 1000, exp_date: '2025-12-31' },
                    { id: 2, name: 'Amoxicillin', code: 'AMX500', category: 'Kapsul', stock: 80, min_stock: 30, unit: 'kapsul', purchase_price: 800, sell_price: 1500, exp_date: '2025-06-30' },
                    { id: 3, name: 'Vitamin C', code: 'VTC100', category: 'Tablet', stock: 200, min_stock: 100, unit: 'tablet', purchase_price: 300, sell_price: 600, exp_date: '2026-01-15' }
                ],

                pendingInvoices: [
                    {
                        id: 1,
                        invoice_number: 'INV-2024-001',
                        patient_name: 'John Doe',
                        registration_code: 'REG-2024-001',
                        date: '2024-02-15',
                        total: 125000,
                        discount: 0,
                        items: [
                            { id: 1, name: 'Konsultasi Dokter', qty: 1, total: 75000 },
                            { id: 2, name: 'Obat Paracetamol', qty: 10, total: 50000 }
                        ]
                    }
                ],

                invoiceHistory: [
                    { id: 1, invoice_number: 'INV-2024-001', patient_name: 'John Doe', patient_rm: 'RM-2024-00001', registration_code: 'REG-2024-001', date: '2024-02-15', total: 125000, payment_method: 'Tunai', status: 'paid' },
                    { id: 2, invoice_number: 'INV-2024-002', patient_name: 'Jane Smith', patient_rm: 'RM-2024-00002', registration_code: 'REG-2024-002', date: '2024-02-14', total: 200000, payment_method: 'Transfer', status: 'paid' }
                ],

                topDiagnoses: [
                    { code: 'J00', name: 'ISPA', count: 45 },
                    { code: 'K59.1', name: 'Diare', count: 32 },
                    { code: 'I10', name: 'Hipertensi', count: 28 },
                    { code: 'E11', name: 'Diabetes', count: 23 },
                    { code: 'M25.5', name: 'Nyeri Sendi', count: 19 }
                ],

                topDrugs: [
                    { id: 1, name: 'Paracetamol', usage: 150, quantity: 1500, unit: 'tablet' },
                    { id: 2, name: 'Amoxicillin', usage: 89, quantity: 534, unit: 'kapsul' },
                    { id: 3, name: 'Vitamin C', usage: 76, quantity: 760, unit: 'tablet' },
                    { id: 4, name: 'Ibuprofen', usage: 65, quantity: 520, unit: 'tablet' },
                    { id: 5, name: 'ORS', usage: 54, quantity: 108, unit: 'sachet' }
                ],

                systemUsers: [
                    { id: 1, name: 'Dr. Admin', email: 'admin@demo.local', role: 'admin', is_active: true, last_login: '2024-02-15 08:30' },
                    { id: 2, name: 'Dr. Smith', email: 'smith@demo.local', role: 'doctor', is_active: true, last_login: '2024-02-15 07:45' },
                    { id: 3, name: 'Nurse Jane', email: 'jane@demo.local', role: 'nurse', is_active: true, last_login: '2024-02-14 16:20' },
                    { id: 4, name: 'Pharmacist Bob', email: 'bob@demo.local', role: 'pharmacist', is_active: false, last_login: '2024-02-10 14:15' }
                ],

                auditLogs: [
                    { id: 1, timestamp: '2024-02-15 10:30:15', user: 'Dr. Admin', action: 'LOGIN', details: 'User logged in successfully', ip_address: '192.168.1.100' },
                    { id: 2, timestamp: '2024-02-15 10:25:32', user: 'Dr. Smith', action: 'CREATE', details: 'Created new patient: John Doe', ip_address: '192.168.1.101' },
                    { id: 3, timestamp: '2024-02-15 10:20:18', user: 'Nurse Jane', action: 'UPDATE', details: 'Updated patient information', ip_address: '192.168.1.102' },
                    { id: 4, timestamp: '2024-02-15 09:45:22', user: 'Pharmacist Bob', action: 'DELETE', details: 'Deleted expired stock item', ip_address: '192.168.1.103' }
                ],

                // Methods
                init() {
                    // Initialize app
                    this.checkDarkMode();
                    this.setCurrentDate();
                    
                    // Global keyboard shortcuts
                    document.addEventListener('keydown', (e) => {
                        if (e.ctrlKey && e.key === '/') {
                            e.preventDefault();
                            document.querySelector('input[placeholder*="Cari"]').focus();
                        }
                    });
                },

                checkDarkMode() {
                    this.darkMode = localStorage.getItem('darkMode') === 'true';
                    this.applyDarkMode();
                },

                toggleDarkMode() {
                    this.darkMode = !this.darkMode;
                    localStorage.setItem('darkMode', this.darkMode);
                    this.applyDarkMode();
                },

                applyDarkMode() {
                    if (this.darkMode) {
                        document.documentElement.classList.add('dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                    }
                },

                setCurrentDate() {
                    const today = new Date().toISOString().split('T')[0];
                    this.reportDateFrom = today;
                    this.reportDateTo = today;
                },

                login() {
                    this.loginLoading = true;
                    
                    // Simulate API call
                    setTimeout(() => {
                        if (this.loginForm.email === 'admin@demo.local' && this.loginForm.password === 'Admin123!') {
                            this.isLoggedIn = true;
                            this.showToast('Login berhasil!', 'success');
                        } else {
                            this.showToast('Email atau password salah!', 'error');
                        }
                        this.loginLoading = false;
                    }, 1500);
                },

                logout() {
                    this.isLoggedIn = false;
                    this.activeMenu = 'dashboard';
                    this.showToast('Logout berhasil!', 'info');
                },

                setActiveMenu(menu) {
                    this.activeMenu = menu;
                    this.sidebarOpen = false; // Close sidebar on mobile
                },

                getBreadcrumbTitle() {
                    const menu = this.navigation.find(item => item.key === this.activeMenu);
                    return menu ? menu.name : 'Dashboard';
                },

                showToast(message, type = 'info') {
                    const id = Date.now();
                    const toast = { id, message, type, show: true };
                    this.toasts.push(toast);
                    
                    // Auto remove after 5 seconds
                    setTimeout(() => {
                        this.removeToast(id);
                    }, 5000);
                },

                removeToast(id) {
                    const index = this.toasts.findIndex(toast => toast.id === id);
                    if (index > -1) {
                        this.toasts[index].show = false;
                        setTimeout(() => {
                            this.toasts.splice(index, 1);
                        }, 300);
                    }
                },

                // Schedule Helper
                getScheduleForDayHour(day, hour) {
                    return this.doctorSchedules.filter(schedule => {
                        const startHour = parseInt(schedule.start_time.split(':')[0]);
                        const endHour = parseInt(schedule.end_time.split(':')[0]);
                        return schedule.is_active && startHour <= hour && hour < endHour;
                    });
                },

                // Prescription Methods
                startPrescription(id) {
                    const prescription = this.prescriptionQueue.find(p => p.id === id);
                    if (prescription) {
                        prescription.status = 'preparing';
                        this.showToast('Resep dimulai', 'info');
                    }
                },

                completePrescription(id) {
                    const prescription = this.prescriptionQueue.find(p => p.id === id);
                    if (prescription) {
                        prescription.status = 'dispensed';
                        this.showToast('Resep selesai disiapkan', 'success');
                    }
                },

                // Payment Methods
                processPayment(invoiceId) {
                    const invoice = this.pendingInvoices.find(inv => inv.id === invoiceId);
                    if (invoice) {
                        // Move to history
                        this.invoiceHistory.unshift({
                            ...invoice,
                            payment_method: 'Tunai',
                            status: 'paid'
                        });
                        
                        // Remove from pending
                        const index = this.pendingInvoices.findIndex(inv => inv.id === invoiceId);
                        this.pendingInvoices.splice(index, 1);
                        
                        this.showToast('Pembayaran berhasil diproses', 'success');
                    }
                },

                // Report Methods
                generateReport() {
                    this.showToast('Generating report...', 'info');
                    // Simulate report generation
                    setTimeout(() => {
                        this.reportData = [
                            { id: 1, date: '2024-02-15', visits: 24, revenue: 2400000 },
                            { id: 2, date: '2024-02-14', visits: 18, revenue: 1800000 },
                            { id: 3, date: '2024-02-13', visits: 31, revenue: 3100000 }
                        ];
                        this.showToast('Report generated successfully', 'success');
                    }, 2000);
                },

                getReportTitle() {
                    const types = {
                        visits: 'Laporan Kunjungan',
                        revenue: 'Laporan Pendapatan',
                        diagnoses: 'Laporan Diagnosa',
                        drugs: 'Laporan Pemakaian Obat',
                        doctors: 'Laporan Kinerja Dokter'
                    };
                    return types[this.reportType] || 'Laporan';
                },

                getReportColumns() {
                    const columns = {
                        visits: [
                            { key: 'date', title: 'Tanggal' },
                            { key: 'visits', title: 'Jumlah Kunjungan' }
                        ],
                        revenue: [
                            { key: 'date', title: 'Tanggal' },
                            { key: 'revenue', title: 'Pendapatan' }
                        ]
                    };
                    return columns[this.reportType] || [];
                },

                exportReport(format) {
                    this.showToast(`Exporting report as ${format.toUpperCase()}...`, 'info');
                    // Simulate export
                    setTimeout(() => {
                        this.showToast(`Report exported as ${format.toUpperCase()}`, 'success');
                    }, 1500);
                }
            }
        }
    </script>
</body>
</html>

```
